QA output created by 1641
QA output created by 1640 --valgrind
+ -- unregister unknown metric
=== std out ===
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -- unregister unknown metric
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

+ -u foobar foobar
=== std out ===
=== std err ===
unregister: pmUnregisterDerived(foobar): failed: Unknown metric name
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -u foobar foobar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- definition and unregister, but no context ---
+ -r foo=sample.bin -u foo foo
=== std out ===
=== std err ===
unregister: pmUnregisterDerived(foo) => 0
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -r foo=sample.bin -u foo foo
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- value 42 for global derived metric ---
+ -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: foo.bar
=== std out ===
=== context[0]=0
--- foo.bar
pmResult ... numpmid: 1
  511.0.1 (foo.bar): numval: 1 valfmt: 1 vlist[]:
   value 42
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: foo.bar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- global derived metric unregistered ---
+ -r foobar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -u foobar foobar
=== std out ===
=== context[0]=0
--- foobar
pmLookupName(foobar, ...) failed: Unknown metric name
pmLookupDesc(foobar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.0.1 (<noname>): Unknown or illegal metric identifier
=== std err ===
unregister: pmUnregisterDerived(foobar) => 1
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -r foobar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -u foobar foobar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- value 42 for per-context derived metric in 2nd context only ---
+ -h HOSTNAME -h local: -q foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: foo.bar
=== std out ===
=== context[0]=0
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== context[1]=1
--- foo.bar
pmResult ... numpmid: 1
  511.2047.1023 (foo.bar): numval: 1 valfmt: 1 vlist[]:
   value 42
=== context[2]=2
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -h HOSTNAME -h local: -q foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: foo.bar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- per-context drived metric unregistered ---
+ -h HOSTNAME -h local: -q foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -u foo.bar foo.bar
=== std out ===
=== context[0]=0
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== context[1]=1
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== context[2]=2
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== std err ===
unregister: pmUnregisterDerived(foo.bar) => 1
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -h HOSTNAME -h local: -q foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -u foo.bar foo.bar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- value 42 in 2 contexts ---
+ -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -h HOSTNAME foo.bar
=== std out ===
=== context[0]=0
--- foo.bar
pmResult ... numpmid: 1
  511.0.1 (foo.bar): numval: 1 valfmt: 1 vlist[]:
   value 42
=== context[1]=1
--- foo.bar
pmResult ... numpmid: 1
  511.0.1 (foo.bar): numval: 1 valfmt: 1 vlist[]:
   value 42
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -h HOSTNAME foo.bar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- name undefined in all contexts ---
+ -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -h HOSTNAME -u foo.bar foo.bar
=== std out ===
=== context[0]=0
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.0.1 (<noname>): Unknown or illegal metric identifier
=== context[1]=1
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.0.1 (<noname>): Unknown or illegal metric identifier
=== std err ===
unregister: pmUnregisterDerived(foo.bar) => 2
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -h HOSTNAME -u foo.bar foo.bar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- value 42 in the 1st context, name undefined in the 2nd context ---
+ -h local: -q foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h HOSTNAME foo.bar
=== std out ===
=== context[0]=0
--- foo.bar
pmResult ... numpmid: 1
  511.2047.1023 (foo.bar): numval: 1 valfmt: 1 vlist[]:
   value 42
=== context[1]=1
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -h local: -q foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h HOSTNAME foo.bar
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

+ -- global and per-context derived metrics unregistered
=== std out ===
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -- global and per-context derived metrics unregistered
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

+ -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -h HOSTNAME -q bar.foo=(8*sample.long.ten+4*sample.long.one)/2 -u foo.bar -u bar.foo foo.bar bar.foo
=== std out ===
=== context[0]=0
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
--- bar.foo
pmLookupName(bar.foo, ...) failed: Unknown metric name
pmLookupDesc(bar.foo, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== context[1]=1
--- foo.bar
pmLookupName(foo.bar, ...) failed: Unknown metric name
pmLookupDesc(foo.bar, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
--- bar.foo
pmLookupName(bar.foo, ...) failed: Unknown metric name
pmLookupDesc(bar.foo, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== std err ===
unregister: pmUnregisterDerived(foo.bar) => 2
unregister: pmUnregisterDerived(bar.foo) => 1
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -r foo.bar=(8*sample.long.ten+4*sample.long.one)/2 -h local: -h HOSTNAME -q bar.foo=(8*sample.long.ten+4*sample.long.one)/2 -u foo.bar -u bar.foo foo.bar bar.foo
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- load ---
+ -h local: -c TMP.config foo.load
=== std out ===
=== context[0]=0
--- foo.load
pmResult ... numpmid: 1
  511.0.3 (foo.load): numval: 1 valfmt: 1 vlist[]:
   value 42
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -h local: -c TMP.config foo.load
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- load and unregister ---
+ -c TMP.config -h local: -u foo.load foo.load
=== std out ===
=== context[0]=0
--- foo.load
pmLookupName(foo.load, ...) failed: Unknown metric name
pmLookupDesc(foo.load, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  PM_ID_NULL (<noname>): Unknown or illegal metric identifier
=== std err ===
unregister: pmUnregisterDerived(foo.load) => 1
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -c TMP.config -h local: -u foo.load foo.load
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- masking ---
+ -c TMP.config -h local: -q foo.load=sample.long.million foo.load
=== std out ===
=== context[0]=0
--- foo.load
pmResult ... numpmid: 1
  511.2047.1023 (foo.load): numval: 1 valfmt: 0 vlist[]:
   value 1000000
=== std err ===
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -c TMP.config -h local: -q foo.load=sample.long.million foo.load
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

--- masking and unregister ---
+ -c TMP.config -h local: -q foo.load=sample.long.million -u foo.load foo.load
=== std out ===
=== context[0]=0
--- foo.load
pmLookupName(foo.load, ...) failed: Unknown metric name
pmLookupDesc(foo.load, ...) failed: Unknown or illegal metric identifier
pmResult ... numpmid: 1
  511.2047.1023 (<noname>): Unknown or illegal metric identifier
=== std err ===
unregister: pmUnregisterDerived(foo.load) => 2
=== filtered valgrind report ===
Memcheck, a memory error detector
Command: src/unregister -c TMP.config -h local: -q foo.load=sample.long.million -u foo.load foo.load
LEAK SUMMARY:
definitely lost: 0 bytes in 0 blocks
indirectly lost: 0 bytes in 0 blocks
ERROR SUMMARY: 0 errors from 0 contexts ...

