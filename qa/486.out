QA output created by 486

=== archives/mirage: metric sample.bin { pmid->42.42.42 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -15,15 +15,15 @@
 PMID: 2.3.3 (pmcd.pmlogger.host)
     Data Type: string  InDom: 2.1 0x800001
     Semantics: instant  Units: none
-PMID: 29.0.6 (sample.bin)
-    Data Type: 32-bit int  InDom: 29.2 0x7400002
-    Semantics: instant  Units: none
 PMID: 29.0.7 (sample.drift)
     Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.37 (sample.mirage)
     Data Type: 32-bit int  InDom: 29.3 0x7400003
     Semantics: instant  Units: Kbyte / sec
+PMID: 42.42.42 (sample.bin)
+    Data Type: 32-bit int  InDom: 29.2 0x7400002
+    Semantics: instant  Units: none
 
 Instance Domains in the Log ...
 InDom: 2.1
@@ -216,7 +216,7 @@
         inst [14 or "m-14"] value 1429
         inst [15 or "m-15"] value 1528
     29.0.7 (sample.drift): value 111
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -236,7 +236,7 @@
         inst [15 or "m-15"] value 1524
         inst [16 or "m-16"] value 1623
     29.0.7 (sample.drift): value 88
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -258,7 +258,7 @@
         inst [17 or "m-17"] value 1717
         inst [18 or "m-18"] value 1816
     29.0.7 (sample.drift): value 83
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -281,7 +281,7 @@
         inst [19 or "m-19"] value 1909
         inst [20 or "m-20"] value 2008
     29.0.7 (sample.drift): value 58
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -304,7 +304,7 @@
         inst [20 or "m-20"] value 2001
         inst [21 or "m-21"] value 2200
     29.0.7 (sample.drift): value 26
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -325,7 +325,7 @@
         inst [19 or "m-19"] value 1995
         inst [21 or "m-21"] value 2194
     29.0.7 (sample.drift): value 74
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -346,7 +346,7 @@
         inst [19 or "m-19"] value 1989
         inst [21 or "m-21"] value 2188
     29.0.7 (sample.drift): value 75
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -368,7 +368,7 @@
         inst [21 or "m-21"] value 2182
         inst [22 or "m-22"] value 2281
     29.0.7 (sample.drift): value 86
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -391,7 +391,7 @@
         inst [22 or "m-22"] value 2274
         inst [23 or "m-23"] value 2373
     29.0.7 (sample.drift): value 119
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -413,7 +413,7 @@
         inst [23 or "m-23"] value 2367
         inst [24 or "m-24"] value 2466
     29.0.7 (sample.drift): value 150
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -434,7 +434,7 @@
         inst [24 or "m-24"] value 2461
         inst [25 or "m-25"] value 2560
     29.0.7 (sample.drift): value 153
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -454,7 +454,7 @@
         inst [24 or "m-24"] value 2456
         inst [25 or "m-25"] value 2555
     29.0.7 (sample.drift): value 189
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -474,7 +474,7 @@
         inst [24 or "m-24"] value 2451
         inst [26 or "m-26"] value 2650
     29.0.7 (sample.drift): value 234
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -496,7 +496,7 @@
         inst [27 or "m-27"] value 2744
         inst [28 or "m-28"] value 2843
     29.0.7 (sample.drift): value 282
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -517,7 +517,7 @@
         inst [28 or "m-28"] value 2838
         inst [29 or "m-29"] value 2937
     29.0.7 (sample.drift): value 303
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -537,7 +537,7 @@
         inst [27 or "m-27"] value 2733
         inst [28 or "m-28"] value 2832
     29.0.7 (sample.drift): value 271
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -557,7 +557,7 @@
         inst [28 or "m-28"] value 2828
         inst [30 or "m-30"] value 3027
     29.0.7 (sample.drift): value 267
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -578,7 +578,7 @@
         inst [30 or "m-30"] value 3022
         inst [31 or "m-31"] value 3121
     29.0.7 (sample.drift): value 249
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -599,7 +599,7 @@
         inst [32 or "m-32"] value 3216
         inst [33 or "m-33"] value 3315
     29.0.7 (sample.drift): value 242
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -619,7 +619,7 @@
         inst [30 or "m-30"] value 3011
         inst [33 or "m-33"] value 3310
     29.0.7 (sample.drift): value 208
-    29.0.6 (sample.bin):
+    42.42.42 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300

=== archives/mirage: metric sample.bin { name -> sam.bin } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -15,7 +15,7 @@
 PMID: 2.3.3 (pmcd.pmlogger.host)
     Data Type: string  InDom: 2.1 0x800001
     Semantics: instant  Units: none
-PMID: 29.0.6 (sample.bin)
+PMID: 29.0.6 (sam.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
     Semantics: instant  Units: none
 PMID: 29.0.7 (sample.drift)
@@ -182,24 +182,24 @@
 		Log Vol    end(meta)     end(log)
 10:45:08.440968	      0          132          132
 10:46:07.406806	      0          351          288
-10:47:07.419122	      0          771          464
-10:48:07.406714	      0          864          640
-10:49:07.407160	      0          983          832
-10:50:07.407387	      0         1115         1032
-10:51:07.407667	      0         1247         1232
-10:53:07.408341	      0         1353         1600
-10:54:07.408606	      0         1472         1792
-10:55:07.409073	      0         1604         1992
-10:56:07.409201	      0         1723         2184
-10:57:07.409462	      0         1829         2368
-10:58:07.409875	      0         1922         2544
-10:59:07.410254	      0         2015         2720
-11:00:07.410567	      0         2134         2912
-11:01:07.410735	      0         2240         3096
-11:02:07.411038	      0         2333         3272
-11:03:07.411488	      0         2426         3448
-11:04:07.411683	      0         2532         3632
-11:05:07.411966	      0         2638         3816
+10:47:07.419122	      0          768          464
+10:48:07.406714	      0          861          640
+10:49:07.407160	      0          980          832
+10:50:07.407387	      0         1112         1032
+10:51:07.407667	      0         1244         1232
+10:53:07.408341	      0         1350         1600
+10:54:07.408606	      0         1469         1792
+10:55:07.409073	      0         1601         1992
+10:56:07.409201	      0         1720         2184
+10:57:07.409462	      0         1826         2368
+10:58:07.409875	      0         1919         2544
+10:59:07.410254	      0         2012         2720
+11:00:07.410567	      0         2131         2912
+11:01:07.410735	      0         2237         3096
+11:02:07.411038	      0         2330         3272
+11:03:07.411488	      0         2423         3448
+11:04:07.411683	      0         2529         3632
+11:05:07.411966	      0         2635         3816
 
 [156 bytes]
 10:45:08.440968 3 metrics
@@ -216,7 +216,7 @@
         inst [14 or "m-14"] value 1429
         inst [15 or "m-15"] value 1528
     29.0.7 (sample.drift): value 111
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -236,7 +236,7 @@
         inst [15 or "m-15"] value 1524
         inst [16 or "m-16"] value 1623
     29.0.7 (sample.drift): value 88
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -258,7 +258,7 @@
         inst [17 or "m-17"] value 1717
         inst [18 or "m-18"] value 1816
     29.0.7 (sample.drift): value 83
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -281,7 +281,7 @@
         inst [19 or "m-19"] value 1909
         inst [20 or "m-20"] value 2008
     29.0.7 (sample.drift): value 58
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -304,7 +304,7 @@
         inst [20 or "m-20"] value 2001
         inst [21 or "m-21"] value 2200
     29.0.7 (sample.drift): value 26
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -325,7 +325,7 @@
         inst [19 or "m-19"] value 1995
         inst [21 or "m-21"] value 2194
     29.0.7 (sample.drift): value 74
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -346,7 +346,7 @@
         inst [19 or "m-19"] value 1989
         inst [21 or "m-21"] value 2188
     29.0.7 (sample.drift): value 75
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -368,7 +368,7 @@
         inst [21 or "m-21"] value 2182
         inst [22 or "m-22"] value 2281
     29.0.7 (sample.drift): value 86
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -391,7 +391,7 @@
         inst [22 or "m-22"] value 2274
         inst [23 or "m-23"] value 2373
     29.0.7 (sample.drift): value 119
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -413,7 +413,7 @@
         inst [23 or "m-23"] value 2367
         inst [24 or "m-24"] value 2466
     29.0.7 (sample.drift): value 150
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -434,7 +434,7 @@
         inst [24 or "m-24"] value 2461
         inst [25 or "m-25"] value 2560
     29.0.7 (sample.drift): value 153
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -454,7 +454,7 @@
         inst [24 or "m-24"] value 2456
         inst [25 or "m-25"] value 2555
     29.0.7 (sample.drift): value 189
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -474,7 +474,7 @@
         inst [24 or "m-24"] value 2451
         inst [26 or "m-26"] value 2650
     29.0.7 (sample.drift): value 234
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -496,7 +496,7 @@
         inst [27 or "m-27"] value 2744
         inst [28 or "m-28"] value 2843
     29.0.7 (sample.drift): value 282
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -517,7 +517,7 @@
         inst [28 or "m-28"] value 2838
         inst [29 or "m-29"] value 2937
     29.0.7 (sample.drift): value 303
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -537,7 +537,7 @@
         inst [27 or "m-27"] value 2733
         inst [28 or "m-28"] value 2832
     29.0.7 (sample.drift): value 271
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -557,7 +557,7 @@
         inst [28 or "m-28"] value 2828
         inst [30 or "m-30"] value 3027
     29.0.7 (sample.drift): value 267
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -578,7 +578,7 @@
         inst [30 or "m-30"] value 3022
         inst [31 or "m-31"] value 3121
     29.0.7 (sample.drift): value 249
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -599,7 +599,7 @@
         inst [32 or "m-32"] value 3216
         inst [33 or "m-33"] value 3315
     29.0.7 (sample.drift): value 242
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -619,7 +619,7 @@
         inst [30 or "m-30"] value 3011
         inst [33 or "m-33"] value 3310
     29.0.7 (sample.drift): value 208
-    29.0.6 (sample.bin):
+    29.0.6 (sam.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300

=== archives/mirage: metric sample.bin { name -> x23456789.sample.bin } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -15,7 +15,7 @@
 PMID: 2.3.3 (pmcd.pmlogger.host)
     Data Type: string  InDom: 2.1 0x800001
     Semantics: instant  Units: none
-PMID: 29.0.6 (sample.bin)
+PMID: 29.0.6 (x23456789.sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
     Semantics: instant  Units: none
 PMID: 29.0.7 (sample.drift)
@@ -182,24 +182,24 @@
 		Log Vol    end(meta)     end(log)
 10:45:08.440968	      0          132          132
 10:46:07.406806	      0          351          288
-10:47:07.419122	      0          771          464
-10:48:07.406714	      0          864          640
-10:49:07.407160	      0          983          832
-10:50:07.407387	      0         1115         1032
-10:51:07.407667	      0         1247         1232
-10:53:07.408341	      0         1353         1600
-10:54:07.408606	      0         1472         1792
-10:55:07.409073	      0         1604         1992
-10:56:07.409201	      0         1723         2184
-10:57:07.409462	      0         1829         2368
-10:58:07.409875	      0         1922         2544
-10:59:07.410254	      0         2015         2720
-11:00:07.410567	      0         2134         2912
-11:01:07.410735	      0         2240         3096
-11:02:07.411038	      0         2333         3272
-11:03:07.411488	      0         2426         3448
-11:04:07.411683	      0         2532         3632
-11:05:07.411966	      0         2638         3816
+10:47:07.419122	      0          781          464
+10:48:07.406714	      0          874          640
+10:49:07.407160	      0          993          832
+10:50:07.407387	      0         1125         1032
+10:51:07.407667	      0         1257         1232
+10:53:07.408341	      0         1363         1600
+10:54:07.408606	      0         1482         1792
+10:55:07.409073	      0         1614         1992
+10:56:07.409201	      0         1733         2184
+10:57:07.409462	      0         1839         2368
+10:58:07.409875	      0         1932         2544
+10:59:07.410254	      0         2025         2720
+11:00:07.410567	      0         2144         2912
+11:01:07.410735	      0         2250         3096
+11:02:07.411038	      0         2343         3272
+11:03:07.411488	      0         2436         3448
+11:04:07.411683	      0         2542         3632
+11:05:07.411966	      0         2648         3816
 
 [156 bytes]
 10:45:08.440968 3 metrics
@@ -216,7 +216,7 @@
         inst [14 or "m-14"] value 1429
         inst [15 or "m-15"] value 1528
     29.0.7 (sample.drift): value 111
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -236,7 +236,7 @@
         inst [15 or "m-15"] value 1524
         inst [16 or "m-16"] value 1623
     29.0.7 (sample.drift): value 88
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -258,7 +258,7 @@
         inst [17 or "m-17"] value 1717
         inst [18 or "m-18"] value 1816
     29.0.7 (sample.drift): value 83
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -281,7 +281,7 @@
         inst [19 or "m-19"] value 1909
         inst [20 or "m-20"] value 2008
     29.0.7 (sample.drift): value 58
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -304,7 +304,7 @@
         inst [20 or "m-20"] value 2001
         inst [21 or "m-21"] value 2200
     29.0.7 (sample.drift): value 26
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -325,7 +325,7 @@
         inst [19 or "m-19"] value 1995
         inst [21 or "m-21"] value 2194
     29.0.7 (sample.drift): value 74
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -346,7 +346,7 @@
         inst [19 or "m-19"] value 1989
         inst [21 or "m-21"] value 2188
     29.0.7 (sample.drift): value 75
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -368,7 +368,7 @@
         inst [21 or "m-21"] value 2182
         inst [22 or "m-22"] value 2281
     29.0.7 (sample.drift): value 86
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -391,7 +391,7 @@
         inst [22 or "m-22"] value 2274
         inst [23 or "m-23"] value 2373
     29.0.7 (sample.drift): value 119
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -413,7 +413,7 @@
         inst [23 or "m-23"] value 2367
         inst [24 or "m-24"] value 2466
     29.0.7 (sample.drift): value 150
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -434,7 +434,7 @@
         inst [24 or "m-24"] value 2461
         inst [25 or "m-25"] value 2560
     29.0.7 (sample.drift): value 153
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -454,7 +454,7 @@
         inst [24 or "m-24"] value 2456
         inst [25 or "m-25"] value 2555
     29.0.7 (sample.drift): value 189
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -474,7 +474,7 @@
         inst [24 or "m-24"] value 2451
         inst [26 or "m-26"] value 2650
     29.0.7 (sample.drift): value 234
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -496,7 +496,7 @@
         inst [27 or "m-27"] value 2744
         inst [28 or "m-28"] value 2843
     29.0.7 (sample.drift): value 282
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -517,7 +517,7 @@
         inst [28 or "m-28"] value 2838
         inst [29 or "m-29"] value 2937
     29.0.7 (sample.drift): value 303
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -537,7 +537,7 @@
         inst [27 or "m-27"] value 2733
         inst [28 or "m-28"] value 2832
     29.0.7 (sample.drift): value 271
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -557,7 +557,7 @@
         inst [28 or "m-28"] value 2828
         inst [30 or "m-30"] value 3027
     29.0.7 (sample.drift): value 267
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -578,7 +578,7 @@
         inst [30 or "m-30"] value 3022
         inst [31 or "m-31"] value 3121
     29.0.7 (sample.drift): value 249
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -599,7 +599,7 @@
         inst [32 or "m-32"] value 3216
         inst [33 or "m-33"] value 3315
     29.0.7 (sample.drift): value 242
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300
@@ -619,7 +619,7 @@
         inst [30 or "m-30"] value 3011
         inst [33 or "m-33"] value 3310
     29.0.7 (sample.drift): value 208
-    29.0.6 (sample.bin):
+    29.0.6 (x23456789.sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
         inst [300 or "bin-300"] value 300

=== archives/mirage: indom 29.2 { inst 300 -> 42 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -31,9 +31,9 @@
    24763 or "24763"
 InDom: 29.2
 10:46:07.406806 9 instances
+   42 or "bin-300"
    100 or "bin-100"
    200 or "bin-200"
-   300 or "bin-300"
    400 or "bin-400"
    500 or "bin-500"
    600 or "bin-600"
@@ -219,7 +219,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -239,7 +239,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -261,7 +261,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -284,7 +284,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -307,7 +307,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -328,7 +328,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -349,7 +349,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -371,7 +371,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -394,7 +394,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -416,7 +416,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -437,7 +437,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -457,7 +457,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -477,7 +477,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -499,7 +499,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -520,7 +520,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -540,7 +540,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -560,7 +560,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -581,7 +581,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -602,7 +602,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600
@@ -622,7 +622,7 @@
     29.0.6 (sample.bin):
         inst [100 or "bin-100"] value 100
         inst [200 or "bin-200"] value 200
-        inst [300 or "bin-300"] value 300
+        inst [42 or "bin-300"] value 300
         inst [400 or "bin-400"] value 400
         inst [500 or "bin-500"] value 500
         inst [600 or "bin-600"] value 600

=== archives/mirage: indom 29.2 { inst 300 -> 400 } ===
Semantic error in configuration file (TMP.config)
Duplicate instance id 400 ("bin-300" and "bin-400") for indom 29.2
Arrgh ... TMP.new.0 missing

=== archives/mirage: indom 29.2 { iname "bin-700" -> "bin-900" } ===
Semantic error in configuration file (TMP.config)
Duplicate instance name "bin-900" (700) and "bin-900" (900) for indom 29.2
Arrgh ... TMP.new.0 missing

=== archives/mirage: indom 29.2 { iname "bin-700" -> "bin-900 and some" } ===
Semantic error in configuration file (TMP.config)
Duplicate instance name "bin-900 and some" (700) and "bin-900" (900) for indom 29.2
Arrgh ... TMP.new.0 missing

=== archives/mirage: indom 29.2 { iname "bin-300" -> "bin-100" inst 300 -> 100 } ===
Semantic error in configuration file (TMP.config)
Duplicate instance id 100 ("bin-100" and "bin-100") for indom 29.2
Arrgh ... TMP.new.0 missing

=== archives/src-rattle: indom 1.5 { iname "1 minute" -> "5" } ===
Semantic error in configuration file (TMP.config)
Duplicate instance name "5" (1) and "5 minute" (5) for indom 1.5
Arrgh ... TMP.new.0 missing

=== archives/src-rattle: indom 1.5 { iname "5 minute" -> "15 doo dah" } ===
Semantic error in configuration file (TMP.config)
Duplicate instance name "15 doo dah" (5) and "15 minute" (15) for indom 1.5
Arrgh ... TMP.new.0 missing

=== archives/src-rattle: indom 1.5 { iname "5" -> "5 hours" } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -29,7 +29,7 @@
 InDom: 1.5
 23:22:42.011766 3 instances
    1 or "1 minute"
-   5 or "5 minute"
+   5 or "5 hours"
    15 or "15 minute"
 InDom: 2.1
 22:22:42.025955 1 instances
@@ -40,7 +40,7 @@
 22:22:42.025955	      0          132          132
 22:22:42.060877	      0          351          284
 23:22:42.011766	      0          450          344
-11:22:42.021829	      0          590         1784
+11:22:42.021829	      0          589         1784
 
 [152 bytes]
 22:22:42.025955 3 metrics

=== archives/mirage: metric 29.*.* { sem->DISCRETE } metric pmcd.pmlogger.port { sem->COUNTER } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -8,7 +8,7 @@
 Descriptions for Metrics in the Log ...
 PMID: 2.3.0 (pmcd.pmlogger.port)
     Data Type: 32-bit unsigned int  InDom: 2.1 0x800001
-    Semantics: instant  Units: none
+    Semantics: counter  Units: none
 PMID: 2.3.2 (pmcd.pmlogger.archive)
     Data Type: string  InDom: 2.1 0x800001
     Semantics: instant  Units: none
@@ -17,13 +17,13 @@
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
-    Semantics: instant  Units: none
+    Semantics: discrete  Units: none
 PMID: 29.0.7 (sample.drift)
     Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
-    Semantics: instant  Units: none
+    Semantics: discrete  Units: none
 PMID: 29.0.37 (sample.mirage)
     Data Type: 32-bit int  InDom: 29.3 0x7400003
-    Semantics: instant  Units: Kbyte / sec
+    Semantics: discrete  Units: Kbyte / sec
 
 Instance Domains in the Log ...
 InDom: 2.1

=== archives/src-snort-disks: metric disk.dev.bytes { units->1,0,0,MBYTE,0,0 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -17,7 +17,7 @@
     Semantics: counter  Units: count
 PMID: 1.80.15 (disk.dev.bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
-    Semantics: counter  Units: Kbyte
+    Semantics: counter  Units: Mbyte
 PMID: 1.80.16 (disk.dev.read_bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
     Semantics: counter  Units: Kbyte

=== archives/src-snort-disks|-s: metric disk.dev.bytes { units->1,0,0,MBYTE,0,0 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -17,7 +17,7 @@
     Semantics: counter  Units: count
 PMID: 1.80.15 (disk.dev.bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
-    Semantics: counter  Units: Kbyte
+    Semantics: counter  Units: Mbyte
 PMID: 1.80.16 (disk.dev.read_bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
     Semantics: counter  Units: Kbyte
@@ -103,21 +103,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667459
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183325216
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172788759
-        inst [414 or "dks9d4"] value 179712834
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246668695
-        inst [392 or "dks0d3"] value 193827319
-        inst [365 or "dks1d1"] value 246640939
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172791122
-        inst [436 or "dks0d5"] value 179726640
-        inst [447 or "dks1d3"] value 28154512
+        inst [339 or "dks9d1"] value 179029
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168739
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240887
+        inst [392 or "dks0d3"] value 189284
+        inst [365 or "dks1d1"] value 240860
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168741
+        inst [436 or "dks0d5"] value 175514
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874276
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085123
         inst [350 or "dks9d2"] value 2
@@ -202,21 +202,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667459
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183325304
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172788759
-        inst [414 or "dks9d4"] value 179712834
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246669272
-        inst [392 or "dks0d3"] value 193827359
-        inst [365 or "dks1d1"] value 246641515
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172791122
-        inst [436 or "dks0d5"] value 179726640
-        inst [447 or "dks1d3"] value 28154576
+        inst [339 or "dks9d1"] value 179029
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168739
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240888
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240861
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168741
+        inst [436 or "dks0d5"] value 175514
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874316
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085127
         inst [350 or "dks9d2"] value 2
@@ -301,21 +301,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667459
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183325448
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172788759
-        inst [414 or "dks9d4"] value 179712834
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246669368
-        inst [392 or "dks0d3"] value 193827359
-        inst [365 or "dks1d1"] value 246641627
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172791122
-        inst [436 or "dks0d5"] value 179726640
-        inst [447 or "dks1d3"] value 28154576
+        inst [339 or "dks9d1"] value 179029
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168739
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240888
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240861
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168741
+        inst [436 or "dks0d5"] value 175514
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874317
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085134
         inst [350 or "dks9d2"] value 2
@@ -400,21 +400,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667459
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183325548
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172788759
-        inst [414 or "dks9d4"] value 179712839
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246669513
-        inst [392 or "dks0d3"] value 193827359
-        inst [365 or "dks1d1"] value 246641768
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172791122
-        inst [436 or "dks0d5"] value 179726644
-        inst [447 or "dks1d3"] value 28154580
+        inst [339 or "dks9d1"] value 179029
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168739
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240888
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240861
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168741
+        inst [436 or "dks0d5"] value 175514
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874317
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085138
         inst [350 or "dks9d2"] value 2
@@ -499,21 +499,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667507
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183325744
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172789147
-        inst [414 or "dks9d4"] value 179712903
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246669681
-        inst [392 or "dks0d3"] value 193827403
-        inst [365 or "dks1d1"] value 246641928
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172791606
-        inst [436 or "dks0d5"] value 179726708
-        inst [447 or "dks1d3"] value 28154668
+        inst [339 or "dks9d1"] value 179029
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168739
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240888
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240861
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168742
+        inst [436 or "dks0d5"] value 175514
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874365
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085145
         inst [350 or "dks9d2"] value 2
@@ -598,21 +598,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667515
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183326121
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172789527
-        inst [414 or "dks9d4"] value 179712927
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246669701
-        inst [392 or "dks0d3"] value 193827428
-        inst [365 or "dks1d1"] value 246641948
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172792102
-        inst [436 or "dks0d5"] value 179726772
-        inst [447 or "dks1d3"] value 28155064
+        inst [339 or "dks9d1"] value 179029
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168740
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240888
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240861
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168742
+        inst [436 or "dks0d5"] value 175514
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874381
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085159
         inst [350 or "dks9d2"] value 2
@@ -697,21 +697,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667555
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183326483
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172789527
-        inst [414 or "dks9d4"] value 179713327
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246669735
-        inst [392 or "dks0d3"] value 193827464
-        inst [365 or "dks1d1"] value 246641982
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172792110
-        inst [436 or "dks0d5"] value 179727056
-        inst [447 or "dks1d3"] value 28155075
+        inst [339 or "dks9d1"] value 179030
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168740
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240888
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240861
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168742
+        inst [436 or "dks0d5"] value 175515
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874421
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085175
         inst [350 or "dks9d2"] value 2
@@ -796,21 +796,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667559
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183326964
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172789543
-        inst [414 or "dks9d4"] value 179713379
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246670254
-        inst [392 or "dks0d3"] value 193827464
-        inst [365 or "dks1d1"] value 246642381
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172792114
-        inst [436 or "dks0d5"] value 179727120
-        inst [447 or "dks1d3"] value 28155075
+        inst [339 or "dks9d1"] value 179030
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168740
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240889
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240862
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168742
+        inst [436 or "dks0d5"] value 175515
+        inst [447 or "dks1d3"] value 27495
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874425
+        inst [477 or "dks1d5"] value 189330
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085191
         inst [350 or "dks9d2"] value 2
@@ -895,21 +895,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667635
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183327504
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172789563
-        inst [414 or "dks9d4"] value 179713391
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246670518
-        inst [392 or "dks0d3"] value 193827524
-        inst [365 or "dks1d1"] value 246642541
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172792134
-        inst [436 or "dks0d5"] value 179727133
-        inst [447 or "dks1d3"] value 28155819
+        inst [339 or "dks9d1"] value 179031
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168740
+        inst [414 or "dks9d4"] value 175501
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240889
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240862
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168742
+        inst [436 or "dks0d5"] value 175515
+        inst [447 or "dks1d3"] value 27496
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874501
+        inst [477 or "dks1d5"] value 189331
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085213
         inst [350 or "dks9d2"] value 2
@@ -994,21 +994,21 @@
         inst [464 or "dks1d4"] value 0
         inst [477 or "dks1d5"] value 109667735
     1.80.15 (disk.dev.bytes):
-        inst [339 or "dks9d1"] value 183327819
-        inst [350 or "dks9d2"] value 5
-        inst [379 or "dks9d3"] value 172789603
-        inst [414 or "dks9d4"] value 179713611
-        inst [488 or "dks9d6"] value 555
-        inst [328 or "dks0d1"] value 1325
-        inst [361 or "dks0d2"] value 246670715
-        inst [392 or "dks0d3"] value 193827632
-        inst [365 or "dks1d1"] value 246642754
-        inst [425 or "dks0d4"] value 0
-        inst [405 or "dks1d2"] value 172792190
-        inst [436 or "dks0d5"] value 179727353
-        inst [447 or "dks1d3"] value 28155819
+        inst [339 or "dks9d1"] value 179031
+        inst [350 or "dks9d2"] value 0
+        inst [379 or "dks9d3"] value 168740
+        inst [414 or "dks9d4"] value 175502
+        inst [488 or "dks9d6"] value 1
+        inst [328 or "dks0d1"] value 1
+        inst [361 or "dks0d2"] value 240889
+        inst [392 or "dks0d3"] value 189285
+        inst [365 or "dks1d1"] value 240862
+        inst [425 or "dks0d4"] value 0
+        inst [405 or "dks1d2"] value 168742
+        inst [436 or "dks0d5"] value 175515
+        inst [447 or "dks1d3"] value 27496
         inst [464 or "dks1d4"] value 0
-        inst [477 or "dks1d5"] value 193874601
+        inst [477 or "dks1d5"] value 189331
     1.80.7 (disk.dev.total):
         inst [339 or "dks9d1"] value 7085224
         inst [350 or "dks9d2"] value 2

FILTERED pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -17,7 +17,7 @@
     Semantics: counter  Units: count
 PMID: 1.80.15 (disk.dev.bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
-    Semantics: counter  Units: Kbyte
+    Semantics: counter  Units: Mbyte
 PMID: 1.80.16 (disk.dev.read_bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
     Semantics: counter  Units: Kbyte

=== archives/src-snort-disks: metric disk.dev.bytes { units->1,-1,0,Kbyte,Sec,0 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -17,7 +17,7 @@
     Semantics: counter  Units: count
 PMID: 1.80.15 (disk.dev.bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
-    Semantics: counter  Units: Kbyte
+    Semantics: counter  Units: Kbyte / sec
 PMID: 1.80.16 (disk.dev.read_bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
     Semantics: counter  Units: Kbyte

=== archives/src-snort-disks|-ws: metric disk.dev.bytes { units->1,-1,0,kbyte,sec,0 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -17,7 +17,7 @@
     Semantics: counter  Units: count
 PMID: 1.80.15 (disk.dev.bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
-    Semantics: counter  Units: Kbyte
+    Semantics: counter  Units: Kbyte / sec
 PMID: 1.80.16 (disk.dev.read_bytes)
     Data Type: 32-bit unsigned int  InDom: 1.2 0x400002
     Semantics: counter  Units: Kbyte

=== archives/sample_expr: metric sample.scale_step.time_up_secs { units->0,1,0,0,MSEC,0 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -35,7 +35,7 @@
     Semantics: instant  Units: count
 PMID: 29.0.69 (sample.scale_step.time_up_secs)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
-    Semantics: instant  Units: sec
+    Semantics: instant  Units: millisec
 PMID: 29.0.70 (sample.scale_step.time_up_nanosecs)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: nanosec

=== archives/mirage: metric sample.drift { type -> U32 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit int  InDom: 29.2 0x7400002
     Semantics: instant  Units: none
 PMID: 29.0.7 (sample.drift)
-    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.37 (sample.mirage)
     Data Type: 32-bit int  InDom: 29.3 0x7400003

=== archives/mirage: metric sample.drift { type -> 64 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit int  InDom: 29.2 0x7400002
     Semantics: instant  Units: none
 PMID: 29.0.7 (sample.drift)
-    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.37 (sample.mirage)
     Data Type: 32-bit int  InDom: 29.3 0x7400003
@@ -182,24 +182,24 @@
 		Log Vol    end(meta)     end(log)
 10:45:08.440968	      0          132          132
 10:46:07.406806	      0          351          288
-10:47:07.419122	      0          771          464
-10:48:07.406714	      0          864          640
-10:49:07.407160	      0          983          832
-10:50:07.407387	      0         1115         1032
-10:51:07.407667	      0         1247         1232
-10:53:07.408341	      0         1353         1600
-10:54:07.408606	      0         1472         1792
-10:55:07.409073	      0         1604         1992
-10:56:07.409201	      0         1723         2184
-10:57:07.409462	      0         1829         2368
-10:58:07.409875	      0         1922         2544
-10:59:07.410254	      0         2015         2720
-11:00:07.410567	      0         2134         2912
-11:01:07.410735	      0         2240         3096
-11:02:07.411038	      0         2333         3272
-11:03:07.411488	      0         2426         3448
-11:04:07.411683	      0         2532         3632
-11:05:07.411966	      0         2638         3816
+10:47:07.419122	      0          771          476
+10:48:07.406714	      0          864          664
+10:49:07.407160	      0          983          868
+10:50:07.407387	      0         1115         1080
+10:51:07.407667	      0         1247         1292
+10:53:07.408341	      0         1353         1684
+10:54:07.408606	      0         1472         1888
+10:55:07.409073	      0         1604         2100
+10:56:07.409201	      0         1723         2304
+10:57:07.409462	      0         1829         2500
+10:58:07.409875	      0         1922         2688
+10:59:07.410254	      0         2015         2876
+11:00:07.410567	      0         2134         3080
+11:01:07.410735	      0         2240         3276
+11:02:07.411038	      0         2333         3464
+11:03:07.411488	      0         2426         3652
+11:04:07.411683	      0         2532         3848
+11:05:07.411966	      0         2638         4044
 
 [156 bytes]
 10:45:08.440968 3 metrics
@@ -207,7 +207,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [24763 or "24763"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [24763 or "24763"] value "/usr/people/kenmcd/isms/pcp/qa/src/mirage"
 
-[176 bytes]
+[188 bytes]
 10:46:07.406806 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 32
@@ -227,7 +227,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[176 bytes]
+[188 bytes]
 10:47:07.419122 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 27
@@ -247,7 +247,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[192 bytes]
+[204 bytes]
 10:48:07.406714 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 22
@@ -269,7 +269,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[200 bytes]
+[212 bytes]
 10:49:07.407160 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 15
@@ -292,7 +292,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[200 bytes]
+[212 bytes]
 10:50:07.407387 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 7
@@ -315,7 +315,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[184 bytes]
+[196 bytes]
 10:51:07.407667 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 99
@@ -336,7 +336,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[184 bytes]
+[196 bytes]
 10:52:07.407885 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 93
@@ -357,7 +357,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[192 bytes]
+[204 bytes]
 10:53:07.408341 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 87
@@ -379,7 +379,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[200 bytes]
+[212 bytes]
 10:54:07.408606 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 80
@@ -402,7 +402,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[192 bytes]
+[204 bytes]
 10:55:07.409073 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 72
@@ -424,7 +424,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[184 bytes]
+[196 bytes]
 10:56:07.409201 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 65
@@ -445,7 +445,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[176 bytes]
+[188 bytes]
 10:57:07.409462 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 59
@@ -465,7 +465,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[176 bytes]
+[188 bytes]
 10:58:07.409875 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 54
@@ -485,7 +485,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[192 bytes]
+[204 bytes]
 10:59:07.410254 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 49
@@ -507,7 +507,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[184 bytes]
+[196 bytes]
 11:00:07.410567 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 42
@@ -528,7 +528,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[176 bytes]
+[188 bytes]
 11:01:07.410735 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 36
@@ -548,7 +548,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[176 bytes]
+[188 bytes]
 11:02:07.411038 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 31
@@ -568,7 +568,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[184 bytes]
+[196 bytes]
 11:03:07.411488 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 26
@@ -589,7 +589,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[184 bytes]
+[196 bytes]
 11:04:07.411683 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 20
@@ -610,7 +610,7 @@
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
 
-[176 bytes]
+[188 bytes]
 11:05:07.411966 3 metrics
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 14

=== archives/sample_expr: metric sample.scale_step.time_up_secs { type -> FLOAT } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -34,7 +34,7 @@
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: count
 PMID: 29.0.69 (sample.scale_step.time_up_secs)
-    Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: float  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: sec
 PMID: 29.0.70 (sample.scale_step.time_up_nanosecs)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
@@ -74,7 +74,7 @@
 		Log Vol    end(meta)     end(log)
 21:58:59.005168	      0          132          132
 21:58:59.505162	      0          350          284
-21:59:04.005134	      0         1305         5432
+21:59:04.005134	      0         1305         5396
 
 [152 bytes]
 21:58:59.005168 3 metrics
@@ -82,7 +82,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [3931 or "3931"] value 4331
     2.3.2 (pmcd.pmlogger.archive): inst [3931 or "3931"] value "/home/kenj/src/pcpqa/src/sample_expr"
 
-[572 bytes]
+[568 bytes]
 21:58:59.505162 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 770
     29.0.83 (sample.kbyte_ctr): value 23132
@@ -114,7 +114,7 @@
         inst [17 or "m-17"] value 1720
         inst [18 or "m-18"] value 1819
 
-[572 bytes]
+[568 bytes]
 21:59:00.005135 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 726
     29.0.83 (sample.kbyte_ctr): value 23979
@@ -146,7 +146,7 @@
         inst [17 or "m-17"] value 1704
         inst [18 or "m-18"] value 1803
 
-[572 bytes]
+[568 bytes]
 21:59:00.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 414
     29.0.83 (sample.kbyte_ctr): value 24629
@@ -178,7 +178,7 @@
         inst [17 or "m-17"] value 1788
         inst [18 or "m-18"] value 1887
 
-[572 bytes]
+[568 bytes]
 21:59:01.005139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 1019
     29.0.83 (sample.kbyte_ctr): value 26082
@@ -210,7 +210,7 @@
         inst [17 or "m-17"] value 1772
         inst [18 or "m-18"] value 1871
 
-[572 bytes]
+[568 bytes]
 21:59:01.505136 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 294
     29.0.83 (sample.kbyte_ctr): value 26857
@@ -242,7 +242,7 @@
         inst [17 or "m-17"] value 1756
         inst [18 or "m-18"] value 1855
 
-[572 bytes]
+[568 bytes]
 21:59:02.005131 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 752
     29.0.83 (sample.kbyte_ctr): value 27023
@@ -274,7 +274,7 @@
         inst [17 or "m-17"] value 1740
         inst [18 or "m-18"] value 1839
 
-[572 bytes]
+[568 bytes]
 21:59:02.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 851
     29.0.83 (sample.kbyte_ctr): value 27691
@@ -306,7 +306,7 @@
         inst [17 or "m-17"] value 1724
         inst [18 or "m-18"] value 1823
 
-[572 bytes]
+[568 bytes]
 21:59:03.005138 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 435
     29.0.83 (sample.kbyte_ctr): value 28370
@@ -338,7 +338,7 @@
         inst [17 or "m-17"] value 1708
         inst [18 or "m-18"] value 1807
 
-[572 bytes]
+[568 bytes]
 21:59:03.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 439
     29.0.83 (sample.kbyte_ctr): value 29635
@@ -370,7 +370,7 @@
         inst [17 or "m-17"] value 1792
         inst [18 or "m-18"] value 1891
 
-[572 bytes]
+[568 bytes]
 21:59:04.005134 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 447
     29.0.83 (sample.kbyte_ctr): value 30198

=== archives/sample_expr: metric sample.scale_step.time_up_secs { type -> U32 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -34,7 +34,7 @@
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: count
 PMID: 29.0.69 (sample.scale_step.time_up_secs)
-    Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: sec
 PMID: 29.0.70 (sample.scale_step.time_up_nanosecs)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
@@ -74,7 +74,7 @@
 		Log Vol    end(meta)     end(log)
 21:58:59.005168	      0          132          132
 21:58:59.505162	      0          350          284
-21:59:04.005134	      0         1305         5432
+21:59:04.005134	      0         1305         5324
 
 [152 bytes]
 21:58:59.005168 3 metrics
@@ -82,7 +82,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [3931 or "3931"] value 4331
     2.3.2 (pmcd.pmlogger.archive): inst [3931 or "3931"] value "/home/kenj/src/pcpqa/src/sample_expr"
 
-[572 bytes]
+[560 bytes]
 21:58:59.505162 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 770
     29.0.83 (sample.kbyte_ctr): value 23132
@@ -114,7 +114,7 @@
         inst [17 or "m-17"] value 1720
         inst [18 or "m-18"] value 1819
 
-[572 bytes]
+[560 bytes]
 21:59:00.005135 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 726
     29.0.83 (sample.kbyte_ctr): value 23979
@@ -146,7 +146,7 @@
         inst [17 or "m-17"] value 1704
         inst [18 or "m-18"] value 1803
 
-[572 bytes]
+[560 bytes]
 21:59:00.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 414
     29.0.83 (sample.kbyte_ctr): value 24629
@@ -178,7 +178,7 @@
         inst [17 or "m-17"] value 1788
         inst [18 or "m-18"] value 1887
 
-[572 bytes]
+[560 bytes]
 21:59:01.005139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 1019
     29.0.83 (sample.kbyte_ctr): value 26082
@@ -210,7 +210,7 @@
         inst [17 or "m-17"] value 1772
         inst [18 or "m-18"] value 1871
 
-[572 bytes]
+[560 bytes]
 21:59:01.505136 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 294
     29.0.83 (sample.kbyte_ctr): value 26857
@@ -242,7 +242,7 @@
         inst [17 or "m-17"] value 1756
         inst [18 or "m-18"] value 1855
 
-[572 bytes]
+[560 bytes]
 21:59:02.005131 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 752
     29.0.83 (sample.kbyte_ctr): value 27023
@@ -274,7 +274,7 @@
         inst [17 or "m-17"] value 1740
         inst [18 or "m-18"] value 1839
 
-[572 bytes]
+[560 bytes]
 21:59:02.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 851
     29.0.83 (sample.kbyte_ctr): value 27691
@@ -306,7 +306,7 @@
         inst [17 or "m-17"] value 1724
         inst [18 or "m-18"] value 1823
 
-[572 bytes]
+[560 bytes]
 21:59:03.005138 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 435
     29.0.83 (sample.kbyte_ctr): value 28370
@@ -338,7 +338,7 @@
         inst [17 or "m-17"] value 1708
         inst [18 or "m-18"] value 1807
 
-[572 bytes]
+[560 bytes]
 21:59:03.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 439
     29.0.83 (sample.kbyte_ctr): value 29635
@@ -370,7 +370,7 @@
         inst [17 or "m-17"] value 1792
         inst [18 or "m-18"] value 1891
 
-[572 bytes]
+[560 bytes]
 21:59:04.005134 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 447
     29.0.83 (sample.kbyte_ctr): value 30198

=== archives/src-rattle: metric pmcd.pmlogger.archive { indom -> 2.99 } indom 2.1 { indom -> 2.99 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -16,13 +16,13 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 2.3.0 (pmcd.pmlogger.port)
-    Data Type: 32-bit unsigned int  InDom: 2.1 0x800001
+    Data Type: 32-bit unsigned int  InDom: 2.99 0x800063
     Semantics: instant  Units: none
 PMID: 2.3.2 (pmcd.pmlogger.archive)
-    Data Type: string  InDom: 2.1 0x800001
+    Data Type: string  InDom: 2.99 0x800063
     Semantics: instant  Units: none
 PMID: 2.3.3 (pmcd.pmlogger.host)
-    Data Type: string  InDom: 2.1 0x800001
+    Data Type: string  InDom: 2.99 0x800063
     Semantics: instant  Units: none
 
 Instance Domains in the Log ...
@@ -31,7 +31,7 @@
    1 or "1 minute"
    5 or "5 minute"
    15 or "15 minute"
-InDom: 2.1
+InDom: 2.99
 22:22:42.025955 1 instances
    19856 or "19856"
 

=== archives/src-rattle: metric hinv.ndisk { indom -> 1.5 } ===
Warning [TMP.config, line 2]
Instance 0 from OUTPUT clause not found in new indom 1.5
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -13,7 +13,7 @@
     Data Type: float  InDom: 1.5 0x400005
     Semantics: instant  Units: none
 PMID: 1.26.7 (hinv.ndisk)
-    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: 32-bit unsigned int  InDom: 1.5 0x400005
     Semantics: instant  Units: none
 PMID: 2.3.0 (pmcd.pmlogger.port)
     Data Type: 32-bit unsigned int  InDom: 2.1 0x800001
@@ -50,7 +50,7 @@
 
 [60 bytes]
 22:22:42.060877 2 metrics
-    1.26.7 (hinv.ndisk): value 2
+    1.26.7 (hinv.ndisk): inst [0 or ???] value 2
     1.18.2 (hinv.ncpu): value 1
 
 [40 bytes]

=== archives/src-rattle: metric hinv.ndisk { indom -> 1.5 output inst 5 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -13,7 +13,7 @@
     Data Type: float  InDom: 1.5 0x400005
     Semantics: instant  Units: none
 PMID: 1.26.7 (hinv.ndisk)
-    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: 32-bit unsigned int  InDom: 1.5 0x400005
     Semantics: instant  Units: none
 PMID: 2.3.0 (pmcd.pmlogger.port)
     Data Type: 32-bit unsigned int  InDom: 2.1 0x800001
@@ -50,7 +50,7 @@
 
 [60 bytes]
 22:22:42.060877 2 metrics
-    1.26.7 (hinv.ndisk): value 2
+    1.26.7 (hinv.ndisk): inst [5 or ???] value 2
     1.18.2 (hinv.ncpu): value 1
 
 [40 bytes]

=== archives/ok-foo: metric sample.colour { indom -> NULL } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 119
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 122
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 125
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 128
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 131
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 134
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 137
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 140
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output first } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 119
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 122
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 125
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 128
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 131
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 134
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 137
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 140
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output inst 1 } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 220
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 223
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 226
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 229
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 232
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 235
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 238
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 241
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output last } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 321
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 324
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 327
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 330
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 333
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 336
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 339
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 342
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output min } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 119
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 122
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 125
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 128
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 131
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 134
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 137
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 140
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output max } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 321
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 324
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 327
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 330
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 333
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 336
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 339
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 342
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output sum } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 660
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 669
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 678
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 687
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 696
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 705
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 714
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 723
     29.0.2 (sample.seconds): value 897

=== archives/ok-foo: metric sample.colour { indom -> NULL output avg } ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: sec
 PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
+    Data Type: 32-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
@@ -35,11 +35,6 @@
 InDom: 2.1
 04:34:32.257504 1 instances
    5403 or "5403"
-InDom: 29.1
-04:34:33.248687 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 04:34:33.248687 9 instances
    100 or "bin-100"
@@ -56,7 +51,7 @@
 		Log Vol    end(meta)     end(log)
 04:34:32.257504	      0          132          132
 04:34:33.248687	      0          350          284
-04:34:40.258477	      0          851         1768
+04:34:40.258477	      0          784         1656
 
 [152 bytes]
 04:34:32.257504 3 metrics
@@ -64,7 +59,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [5403 or "5403"] value 4332
     2.3.2 (pmcd.pmlogger.archive): inst [5403 or "5403"] value "/usr/people/kenmcd/isms/pcp/qa/src/foo"
 
-[212 bytes]
+[196 bytes]
 04:34:33.248687 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 150
@@ -78,13 +73,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 119
-        inst [1 or "green"] value 220
-        inst [2 or "blue"] value 321
+    29.0.5 (sample.colour): value 220
     29.0.2 (sample.seconds): value 890
 
-[212 bytes]
+[196 bytes]
 04:34:34.248493 5 metrics
     29.0.46 (sample.lights): value "yellow"
     29.0.7 (sample.drift): value 108
@@ -98,13 +90,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 122
-        inst [1 or "green"] value 223
-        inst [2 or "blue"] value 324
+    29.0.5 (sample.colour): value 223
     29.0.2 (sample.seconds): value 891
 
-[212 bytes]
+[196 bytes]
 04:34:35.258377 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 108
@@ -118,13 +107,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 125
-        inst [1 or "green"] value 226
-        inst [2 or "blue"] value 327
+    29.0.5 (sample.colour): value 226
     29.0.2 (sample.seconds): value 892
 
-[212 bytes]
+[196 bytes]
 04:34:36.258416 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 90
@@ -138,13 +124,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 128
-        inst [1 or "green"] value 229
-        inst [2 or "blue"] value 330
+    29.0.5 (sample.colour): value 229
     29.0.2 (sample.seconds): value 893
 
-[212 bytes]
+[196 bytes]
 04:34:37.258585 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 101
@@ -158,13 +141,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 131
-        inst [1 or "green"] value 232
-        inst [2 or "blue"] value 333
+    29.0.5 (sample.colour): value 232
     29.0.2 (sample.seconds): value 894
 
-[212 bytes]
+[196 bytes]
 04:34:38.258389 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 127
@@ -178,13 +158,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 134
-        inst [1 or "green"] value 235
-        inst [2 or "blue"] value 336
+    29.0.5 (sample.colour): value 235
     29.0.2 (sample.seconds): value 895
 
-[212 bytes]
+[196 bytes]
 04:34:39.258408 5 metrics
     29.0.46 (sample.lights): value "green"
     29.0.7 (sample.drift): value 135
@@ -198,13 +175,10 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 137
-        inst [1 or "green"] value 238
-        inst [2 or "blue"] value 339
+    29.0.5 (sample.colour): value 238
     29.0.2 (sample.seconds): value 896
 
-[208 bytes]
+[192 bytes]
 04:34:40.258477 5 metrics
     29.0.46 (sample.lights): value "red"
     29.0.7 (sample.drift): value 156
@@ -218,8 +192,5 @@
         inst [700 or "bin-700"] value 700
         inst [800 or "bin-800"] value 800
         inst [900 or "bin-900"] value 900
-    29.0.5 (sample.colour):
-        inst [0 or "red"] value 140
-        inst [1 or "green"] value 241
-        inst [2 or "blue"] value 342
+    29.0.5 (sample.colour): value 241
     29.0.2 (sample.seconds): value 897

=== archives/sample_expr: metric sample.mirage_longlong {indom->NULL} ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit int  InDom: 29.3 0x7400003
     Semantics: instant  Units: Kbyte / sec
 PMID: 29.0.38 (sample.mirage_longlong)
-    Data Type: 64-bit int  InDom: 29.3 0x7400003
+    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: byte / millisec
 PMID: 29.0.65 (sample.scale_step.bytes_up)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
@@ -74,7 +74,7 @@
 		Log Vol    end(meta)     end(log)
 21:58:59.005168	      0          132          132
 21:58:59.505162	      0          350          284
-21:59:04.005134	      0         1305         5432
+21:59:04.005134	      0         1305         4172
 
 [152 bytes]
 21:58:59.005168 3 metrics
@@ -82,7 +82,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [3931 or "3931"] value 4331
     2.3.2 (pmcd.pmlogger.archive): inst [3931 or "3931"] value "/home/kenj/src/pcpqa/src/sample_expr"
 
-[572 bytes]
+[432 bytes]
 21:58:59.505162 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 770
     29.0.83 (sample.kbyte_ctr): value 23132
@@ -95,15 +95,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 34000000
-        inst [46 or "m-46"] value 4633000000
-        inst [47 or "m-47"] value 4732000000
-        inst [10 or "m-10"] value 1031000000
-        inst [15 or "m-15"] value 1530000000
-        inst [16 or "m-16"] value 1629000000
-        inst [17 or "m-17"] value 1728000000
-        inst [18 or "m-18"] value 1827000000
+    29.0.38 (sample.mirage_longlong): value 34000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 26
         inst [46 or "m-46"] value 4625
@@ -114,7 +106,7 @@
         inst [17 or "m-17"] value 1720
         inst [18 or "m-18"] value 1819
 
-[572 bytes]
+[432 bytes]
 21:59:00.005135 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 726
     29.0.83 (sample.kbyte_ctr): value 23979
@@ -127,15 +119,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 18000000
-        inst [46 or "m-46"] value 4617000000
-        inst [47 or "m-47"] value 4716000000
-        inst [10 or "m-10"] value 1015000000
-        inst [15 or "m-15"] value 1514000000
-        inst [16 or "m-16"] value 1613000000
-        inst [17 or "m-17"] value 1712000000
-        inst [18 or "m-18"] value 1811000000
+    29.0.38 (sample.mirage_longlong): value 18000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 10
         inst [46 or "m-46"] value 4609
@@ -146,7 +130,7 @@
         inst [17 or "m-17"] value 1704
         inst [18 or "m-18"] value 1803
 
-[572 bytes]
+[432 bytes]
 21:59:00.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 414
     29.0.83 (sample.kbyte_ctr): value 24629
@@ -159,15 +143,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 2000000
-        inst [46 or "m-46"] value 4601000000
-        inst [47 or "m-47"] value 4800000000
-        inst [10 or "m-10"] value 1099000000
-        inst [15 or "m-15"] value 1598000000
-        inst [16 or "m-16"] value 1697000000
-        inst [17 or "m-17"] value 1796000000
-        inst [18 or "m-18"] value 1895000000
+    29.0.38 (sample.mirage_longlong): value 2000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 94
         inst [46 or "m-46"] value 4693
@@ -178,7 +154,7 @@
         inst [17 or "m-17"] value 1788
         inst [18 or "m-18"] value 1887
 
-[572 bytes]
+[432 bytes]
 21:59:01.005139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 1019
     29.0.83 (sample.kbyte_ctr): value 26082
@@ -191,15 +167,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 86000000
-        inst [46 or "m-46"] value 4685000000
-        inst [47 or "m-47"] value 4784000000
-        inst [10 or "m-10"] value 1083000000
-        inst [15 or "m-15"] value 1582000000
-        inst [16 or "m-16"] value 1681000000
-        inst [17 or "m-17"] value 1780000000
-        inst [18 or "m-18"] value 1879000000
+    29.0.38 (sample.mirage_longlong): value 86000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 78
         inst [46 or "m-46"] value 4677
@@ -210,7 +178,7 @@
         inst [17 or "m-17"] value 1772
         inst [18 or "m-18"] value 1871
 
-[572 bytes]
+[432 bytes]
 21:59:01.505136 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 294
     29.0.83 (sample.kbyte_ctr): value 26857
@@ -223,15 +191,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 70000000
-        inst [46 or "m-46"] value 4669000000
-        inst [47 or "m-47"] value 4768000000
-        inst [10 or "m-10"] value 1067000000
-        inst [15 or "m-15"] value 1566000000
-        inst [16 or "m-16"] value 1665000000
-        inst [17 or "m-17"] value 1764000000
-        inst [18 or "m-18"] value 1863000000
+    29.0.38 (sample.mirage_longlong): value 70000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 62
         inst [46 or "m-46"] value 4661
@@ -242,7 +202,7 @@
         inst [17 or "m-17"] value 1756
         inst [18 or "m-18"] value 1855
 
-[572 bytes]
+[432 bytes]
 21:59:02.005131 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 752
     29.0.83 (sample.kbyte_ctr): value 27023
@@ -255,15 +215,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 54000000
-        inst [46 or "m-46"] value 4653000000
-        inst [47 or "m-47"] value 4752000000
-        inst [10 or "m-10"] value 1051000000
-        inst [15 or "m-15"] value 1550000000
-        inst [16 or "m-16"] value 1649000000
-        inst [17 or "m-17"] value 1748000000
-        inst [18 or "m-18"] value 1847000000
+    29.0.38 (sample.mirage_longlong): value 54000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 46
         inst [46 or "m-46"] value 4645
@@ -274,7 +226,7 @@
         inst [17 or "m-17"] value 1740
         inst [18 or "m-18"] value 1839
 
-[572 bytes]
+[432 bytes]
 21:59:02.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 851
     29.0.83 (sample.kbyte_ctr): value 27691
@@ -287,15 +239,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 38000000
-        inst [46 or "m-46"] value 4637000000
-        inst [47 or "m-47"] value 4736000000
-        inst [10 or "m-10"] value 1035000000
-        inst [15 or "m-15"] value 1534000000
-        inst [16 or "m-16"] value 1633000000
-        inst [17 or "m-17"] value 1732000000
-        inst [18 or "m-18"] value 1831000000
+    29.0.38 (sample.mirage_longlong): value 38000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 30
         inst [46 or "m-46"] value 4629
@@ -306,7 +250,7 @@
         inst [17 or "m-17"] value 1724
         inst [18 or "m-18"] value 1823
 
-[572 bytes]
+[432 bytes]
 21:59:03.005138 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 435
     29.0.83 (sample.kbyte_ctr): value 28370
@@ -319,15 +263,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 22000000
-        inst [46 or "m-46"] value 4621000000
-        inst [47 or "m-47"] value 4720000000
-        inst [10 or "m-10"] value 1019000000
-        inst [15 or "m-15"] value 1518000000
-        inst [16 or "m-16"] value 1617000000
-        inst [17 or "m-17"] value 1716000000
-        inst [18 or "m-18"] value 1815000000
+    29.0.38 (sample.mirage_longlong): value 22000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 14
         inst [46 or "m-46"] value 4613
@@ -338,7 +274,7 @@
         inst [17 or "m-17"] value 1708
         inst [18 or "m-18"] value 1807
 
-[572 bytes]
+[432 bytes]
 21:59:03.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 439
     29.0.83 (sample.kbyte_ctr): value 29635
@@ -351,15 +287,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 6000000
-        inst [46 or "m-46"] value 4605000000
-        inst [47 or "m-47"] value 4704000000
-        inst [10 or "m-10"] value 1003000000
-        inst [15 or "m-15"] value 1502000000
-        inst [16 or "m-16"] value 1601000000
-        inst [17 or "m-17"] value 1800000000
-        inst [18 or "m-18"] value 1899000000
+    29.0.38 (sample.mirage_longlong): value 6000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 98
         inst [46 or "m-46"] value 4697
@@ -370,7 +298,7 @@
         inst [17 or "m-17"] value 1792
         inst [18 or "m-18"] value 1891
 
-[572 bytes]
+[432 bytes]
 21:59:04.005134 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 447
     29.0.83 (sample.kbyte_ctr): value 30198
@@ -383,15 +311,7 @@
     29.0.67 (sample.scale_step.count_up): value 100
     29.0.66 (sample.scale_step.bytes_down): value 549755813888
     29.0.65 (sample.scale_step.bytes_up): value 4
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 90000000
-        inst [46 or "m-46"] value 4689000000
-        inst [47 or "m-47"] value 4788000000
-        inst [10 or "m-10"] value 1087000000
-        inst [15 or "m-15"] value 1586000000
-        inst [16 or "m-16"] value 1685000000
-        inst [17 or "m-17"] value 1784000000
-        inst [18 or "m-18"] value 1883000000
+    29.0.38 (sample.mirage_longlong): value 90000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 82
         inst [46 or "m-46"] value 4681

=== archives/sample_expr: metric sample.mirage_longlong {indom->NULL output last} ===
pmdumplog diffs ...
--- TMP.in
+++ TMP.out
@@ -19,7 +19,7 @@
     Data Type: 32-bit int  InDom: 29.3 0x7400003
     Semantics: instant  Units: Kbyte / sec
 PMID: 29.0.38 (sample.mirage_longlong)
-    Data Type: 64-bit int  InDom: 29.3 0x7400003
+    Data Type: 64-bit int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: instant  Units: byte / millisec
 PMID: 29.0.65 (sample.scale_step.bytes_up)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
@@ -74,7 +74,7 @@
 		Log Vol    end(meta)     end(log)
 21:58:59.005168	      0          132          132
 21:58:59.505162	      0          350          284
-21:59:04.005134	      0         1305         5432
+21:59:04.005134	      0         1305         4172
 
 [152 bytes]
 21:58:59.005168 3 metrics
@@ -82,7 +82,7 @@
     2.3.0 (pmcd.pmlogger.port): inst [3931 or "3931"] value 4331
     2.3.2 (pmcd.pmlogger.archive): inst [3931 or "3931"] value "/home/kenj/src/pcpqa/src/sample_expr"
 
-[572 bytes]
+[432 bytes]
 21:58:59.505162 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 770
     29.0.83 (sample.kbyte_ctr): value 23132
@@ -95,15 +95,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 34000000
-        inst [46 or "m-46"] value 4633000000
-        inst [47 or "m-47"] value 4732000000
-        inst [10 or "m-10"] value 1031000000
-        inst [15 or "m-15"] value 1530000000
-        inst [16 or "m-16"] value 1629000000
-        inst [17 or "m-17"] value 1728000000
-        inst [18 or "m-18"] value 1827000000
+    29.0.38 (sample.mirage_longlong): value 1827000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 26
         inst [46 or "m-46"] value 4625
@@ -114,7 +106,7 @@
         inst [17 or "m-17"] value 1720
         inst [18 or "m-18"] value 1819
 
-[572 bytes]
+[432 bytes]
 21:59:00.005135 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 726
     29.0.83 (sample.kbyte_ctr): value 23979
@@ -127,15 +119,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 18000000
-        inst [46 or "m-46"] value 4617000000
-        inst [47 or "m-47"] value 4716000000
-        inst [10 or "m-10"] value 1015000000
-        inst [15 or "m-15"] value 1514000000
-        inst [16 or "m-16"] value 1613000000
-        inst [17 or "m-17"] value 1712000000
-        inst [18 or "m-18"] value 1811000000
+    29.0.38 (sample.mirage_longlong): value 1811000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 10
         inst [46 or "m-46"] value 4609
@@ -146,7 +130,7 @@
         inst [17 or "m-17"] value 1704
         inst [18 or "m-18"] value 1803
 
-[572 bytes]
+[432 bytes]
 21:59:00.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 414
     29.0.83 (sample.kbyte_ctr): value 24629
@@ -159,15 +143,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 2000000
-        inst [46 or "m-46"] value 4601000000
-        inst [47 or "m-47"] value 4800000000
-        inst [10 or "m-10"] value 1099000000
-        inst [15 or "m-15"] value 1598000000
-        inst [16 or "m-16"] value 1697000000
-        inst [17 or "m-17"] value 1796000000
-        inst [18 or "m-18"] value 1895000000
+    29.0.38 (sample.mirage_longlong): value 1895000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 94
         inst [46 or "m-46"] value 4693
@@ -178,7 +154,7 @@
         inst [17 or "m-17"] value 1788
         inst [18 or "m-18"] value 1887
 
-[572 bytes]
+[432 bytes]
 21:59:01.005139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 1019
     29.0.83 (sample.kbyte_ctr): value 26082
@@ -191,15 +167,7 @@
     29.0.67 (sample.scale_step.count_up): value 1
     29.0.66 (sample.scale_step.bytes_down): value 1
     29.0.65 (sample.scale_step.bytes_up): value 1
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 86000000
-        inst [46 or "m-46"] value 4685000000
-        inst [47 or "m-47"] value 4784000000
-        inst [10 or "m-10"] value 1083000000
-        inst [15 or "m-15"] value 1582000000
-        inst [16 or "m-16"] value 1681000000
-        inst [17 or "m-17"] value 1780000000
-        inst [18 or "m-18"] value 1879000000
+    29.0.38 (sample.mirage_longlong): value 1879000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 78
         inst [46 or "m-46"] value 4677
@@ -210,7 +178,7 @@
         inst [17 or "m-17"] value 1772
         inst [18 or "m-18"] value 1871
 
-[572 bytes]
+[432 bytes]
 21:59:01.505136 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 294
     29.0.83 (sample.kbyte_ctr): value 26857
@@ -223,15 +191,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 70000000
-        inst [46 or "m-46"] value 4669000000
-        inst [47 or "m-47"] value 4768000000
-        inst [10 or "m-10"] value 1067000000
-        inst [15 or "m-15"] value 1566000000
-        inst [16 or "m-16"] value 1665000000
-        inst [17 or "m-17"] value 1764000000
-        inst [18 or "m-18"] value 1863000000
+    29.0.38 (sample.mirage_longlong): value 1863000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 62
         inst [46 or "m-46"] value 4661
@@ -242,7 +202,7 @@
         inst [17 or "m-17"] value 1756
         inst [18 or "m-18"] value 1855
 
-[572 bytes]
+[432 bytes]
 21:59:02.005131 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 752
     29.0.83 (sample.kbyte_ctr): value 27023
@@ -255,15 +215,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 54000000
-        inst [46 or "m-46"] value 4653000000
-        inst [47 or "m-47"] value 4752000000
-        inst [10 or "m-10"] value 1051000000
-        inst [15 or "m-15"] value 1550000000
-        inst [16 or "m-16"] value 1649000000
-        inst [17 or "m-17"] value 1748000000
-        inst [18 or "m-18"] value 1847000000
+    29.0.38 (sample.mirage_longlong): value 1847000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 46
         inst [46 or "m-46"] value 4645
@@ -274,7 +226,7 @@
         inst [17 or "m-17"] value 1740
         inst [18 or "m-18"] value 1839
 
-[572 bytes]
+[432 bytes]
 21:59:02.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 851
     29.0.83 (sample.kbyte_ctr): value 27691
@@ -287,15 +239,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 38000000
-        inst [46 or "m-46"] value 4637000000
-        inst [47 or "m-47"] value 4736000000
-        inst [10 or "m-10"] value 1035000000
-        inst [15 or "m-15"] value 1534000000
-        inst [16 or "m-16"] value 1633000000
-        inst [17 or "m-17"] value 1732000000
-        inst [18 or "m-18"] value 1831000000
+    29.0.38 (sample.mirage_longlong): value 1831000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 30
         inst [46 or "m-46"] value 4629
@@ -306,7 +250,7 @@
         inst [17 or "m-17"] value 1724
         inst [18 or "m-18"] value 1823
 
-[572 bytes]
+[432 bytes]
 21:59:03.005138 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 435
     29.0.83 (sample.kbyte_ctr): value 28370
@@ -319,15 +263,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 22000000
-        inst [46 or "m-46"] value 4621000000
-        inst [47 or "m-47"] value 4720000000
-        inst [10 or "m-10"] value 1019000000
-        inst [15 or "m-15"] value 1518000000
-        inst [16 or "m-16"] value 1617000000
-        inst [17 or "m-17"] value 1716000000
-        inst [18 or "m-18"] value 1815000000
+    29.0.38 (sample.mirage_longlong): value 1815000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 14
         inst [46 or "m-46"] value 4613
@@ -338,7 +274,7 @@
         inst [17 or "m-17"] value 1708
         inst [18 or "m-18"] value 1807
 
-[572 bytes]
+[432 bytes]
 21:59:03.505139 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 439
     29.0.83 (sample.kbyte_ctr): value 29635
@@ -351,15 +287,7 @@
     29.0.67 (sample.scale_step.count_up): value 10
     29.0.66 (sample.scale_step.bytes_down): value 1099511627776
     29.0.65 (sample.scale_step.bytes_up): value 2
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 6000000
-        inst [46 or "m-46"] value 4605000000
-        inst [47 or "m-47"] value 4704000000
-        inst [10 or "m-10"] value 1003000000
-        inst [15 or "m-15"] value 1502000000
-        inst [16 or "m-16"] value 1601000000
-        inst [17 or "m-17"] value 1800000000
-        inst [18 or "m-18"] value 1899000000
+    29.0.38 (sample.mirage_longlong): value 1899000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 98
         inst [46 or "m-46"] value 4697
@@ -370,7 +298,7 @@
         inst [17 or "m-17"] value 1792
         inst [18 or "m-18"] value 1891
 
-[572 bytes]
+[432 bytes]
 21:59:04.005134 13 metrics
     29.0.85 (sample.byte_rate_perhour): value 447
     29.0.83 (sample.kbyte_ctr): value 30198
@@ -383,15 +311,7 @@
     29.0.67 (sample.scale_step.count_up): value 100
     29.0.66 (sample.scale_step.bytes_down): value 549755813888
     29.0.65 (sample.scale_step.bytes_up): value 4
-    29.0.38 (sample.mirage_longlong):
-        inst [0 or "m-00"] value 90000000
-        inst [46 or "m-46"] value 4689000000
-        inst [47 or "m-47"] value 4788000000
-        inst [10 or "m-10"] value 1087000000
-        inst [15 or "m-15"] value 1586000000
-        inst [16 or "m-16"] value 1685000000
-        inst [17 or "m-17"] value 1784000000
-        inst [18 or "m-18"] value 1883000000
+    29.0.38 (sample.mirage_longlong): value 1883000000
     29.0.37 (sample.mirage):
         inst [0 or "m-00"] value 82
         inst [46 or "m-46"] value 4681
