QA output created by 822
=== case 1, indom 29.2 still used after delete ===
ref++ InDom: 30.2 refcnt: 1 (for PMID: 30.0.48)
ref++ InDom: 30.2 refcnt: 2 (for PMID: 30.0.6)
ref++ InDom: 29.1 refcnt: 1 (for PMID: 29.0.5)
ref++ InDom: 29.2 refcnt: 1 (for PMID: 29.0.6)
ref++ InDom: 29.2 refcnt: 2 (for PMID: 29.0.48)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 30.1 refcnt: 1 (for PMID: 30.0.5)
delete metric ref-- InDom: 29.2 refcnt: 1 (for PMID: 29.0.6)
Delete: pmDesc for 29.0.6
--- TMP.in
+++ TMP.out
@@ -15,9 +15,6 @@
 PMID: 29.0.5 (sample.colour)
     Data Type: 32-bit int  InDom: 29.1 0x7400001
     Semantics: instant  Units: none
-PMID: 29.0.6 (sample.bin)
-    Data Type: 32-bit int  InDom: 29.2 0x7400002
-    Semantics: instant  Units: none
 PMID: 29.0.48 (sample.bucket)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
     Semantics: instant  Units: none
Error: sample.bin: Unknown metric name

sample.bucket
    Data Type: 32-bit int  InDom: 29.2 0x7400002
    Semantics: instant  Units: none
    inst [100 or "bin-100"] value 100
    inst [200 or "bin-200"] value 200
    inst [300 or "bin-300"] value 300
    inst [400 or "bin-400"] value 400
    inst [500 or "bin-500"] value 500
    inst [600 or "bin-600"] value 600
    inst [700 or "bin-700"] value 700
    inst [800 or "bin-800"] value 800
    inst [900 or "bin-900"] value 900

=== case 2, indom 29.2 should be deleted ===
ref++ InDom: 30.2 refcnt: 1 (for PMID: 30.0.48)
ref++ InDom: 30.2 refcnt: 2 (for PMID: 30.0.6)
ref++ InDom: 29.1 refcnt: 1 (for PMID: 29.0.5)
ref++ InDom: 29.2 refcnt: 1 (for PMID: 29.0.6)
ref++ InDom: 29.2 refcnt: 2 (for PMID: 29.0.48)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 30.1 refcnt: 1 (for PMID: 30.0.5)
delete metric ref-- InDom: 29.2 refcnt: 1 (for PMID: 29.0.48)
delete metric ref-- InDom: 29.2 refcnt: 0 (for PMID: 29.0.6)
Delete: pmDesc for 29.0.48
Delete: InDom: 29.2: no output metrics use this
Delete: pmDesc for 29.0.6
--- TMP.in
+++ TMP.out
@@ -15,12 +15,6 @@
 PMID: 29.0.5 (sample.colour)
     Data Type: 32-bit int  InDom: 29.1 0x7400001
     Semantics: instant  Units: none
-PMID: 29.0.6 (sample.bin)
-    Data Type: 32-bit int  InDom: 29.2 0x7400002
-    Semantics: instant  Units: none
-PMID: 29.0.48 (sample.bucket)
-    Data Type: 32-bit int  InDom: 29.2 0x7400002
-    Semantics: instant  Units: none
 PMID: 30.0.3 (sampledso.milliseconds)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: millisec
@@ -43,17 +37,6 @@
    0 or "red"
    1 or "green"
    2 or "blue"
-InDom: 29.2
-TIMESTAMP 9 instances
-   100 or "bin-100"
-   200 or "bin-200"
-   300 or "bin-300"
-   400 or "bin-400"
-   500 or "bin-500"
-   600 or "bin-600"
-   700 or "bin-700"
-   800 or "bin-800"
-   900 or "bin-900"
 InDom: 30.1
 TIMESTAMP 3 instances
    0 or "red"

sample.colour
    Data Type: 32-bit int  InDom: 29.1 0x7400001
    Semantics: instant  Units: none
    inst [0 or "red"] value 101
    inst [1 or "green"] value 202
    inst [2 or "blue"] value 303

=== case 3, indom 29.1 should be deleted ===
ref++ InDom: 30.2 refcnt: 1 (for PMID: 30.0.48)
ref++ InDom: 30.2 refcnt: 2 (for PMID: 30.0.6)
ref++ InDom: 29.1 refcnt: 1 (for PMID: 29.0.5)
ref++ InDom: 29.2 refcnt: 1 (for PMID: 29.0.6)
ref++ InDom: 29.2 refcnt: 2 (for PMID: 29.0.48)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 30.1 refcnt: 1 (for PMID: 30.0.5)
renumber indom ref-- InDom: 29.1 refcnt: 0 (for PMID: 29.0.5)
renumber indom ref++ InDom: 30.1 refcnt: 2 (for PMID: 29.0.5)
Rewrite: pmDesc for 29.0.5
Delete: InDom: 29.1: no output metrics use this
--- TMP.in
+++ TMP.out
@@ -12,9 +12,6 @@
 PMID: 29.0.3 (sample.milliseconds)
     Data Type: double  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: millisec
-PMID: 29.0.5 (sample.colour)
-    Data Type: 32-bit int  InDom: 29.1 0x7400001
-    Semantics: instant  Units: none
 PMID: 29.0.6 (sample.bin)
     Data Type: 32-bit int  InDom: 29.2 0x7400002
     Semantics: instant  Units: none
@@ -33,16 +30,14 @@
 PMID: 30.0.48 (sampledso.bucket)
     Data Type: 32-bit int  InDom: 30.2 0x7800002
     Semantics: instant  Units: none
+PMID: 30.1.5 (sample.colour)
+    Data Type: 32-bit int  InDom: 30.1 0x7800001
+    Semantics: instant  Units: none
 
 Instance Domains in the Log ...
 InDom: 2.1
 TIMESTAMP 1 instances
    25031 or "25031"
-InDom: 29.1
-TIMESTAMP 3 instances
-   0 or "red"
-   1 or "green"
-   2 or "blue"
 InDom: 29.2
 TIMESTAMP 9 instances
    100 or "bin-100"

sample.colour
    Data Type: 32-bit int  InDom: 30.1 0x7800001
    Semantics: instant  Units: none
    inst [0 or "red"] value 101
    inst [1 or "green"] value 202
    inst [2 or "blue"] value 303

=== case 4, indom 29.1 should stay ===
ref++ InDom: 30.2 refcnt: 1 (for PMID: 30.0.48)
ref++ InDom: 30.2 refcnt: 2 (for PMID: 30.0.6)
ref++ InDom: 29.1 refcnt: 1 (for PMID: 29.0.5)
ref++ InDom: 29.2 refcnt: 1 (for PMID: 29.0.6)
ref++ InDom: 29.2 refcnt: 2 (for PMID: 29.0.48)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 30.1 refcnt: 1 (for PMID: 30.0.5)

sample.colour
    Data Type: 32-bit int  InDom: 29.1 0x7400001
    Semantics: instant  Units: none
    inst [0 or "red"] value 101
    inst [1 or "green"] value 202
    inst [2 or "blue"] value 303

=== case 5, indom 60.11 should be deleted ===
ref++ InDom: 60.11 refcnt: 1 (for PMID: 60.15.0)
ref++ InDom: 60.0 refcnt: 1 (for PMID: 60.0.0)
ref++ InDom: 60.0 refcnt: 2 (for PMID: 60.0.1)
ref++ InDom: 60.0 refcnt: 3 (for PMID: 60.0.2)
ref++ InDom: 60.0 refcnt: 4 (for PMID: 60.0.3)
ref++ InDom: 60.1 refcnt: 1 (for PMID: 60.0.4)
ref++ InDom: 60.1 refcnt: 2 (for PMID: 60.0.5)
ref++ InDom: 60.1 refcnt: 3 (for PMID: 60.0.6)
ref++ InDom: 60.1 refcnt: 4 (for PMID: 60.0.7)
ref++ InDom: 60.2 refcnt: 1 (for PMID: 60.2.0)
ref++ InDom: 2.3 refcnt: 1 (for PMID: 2.4.1)
ref++ InDom: 60.1 refcnt: 5 (for PMID: 60.0.28)
ref++ InDom: 60.8 refcnt: 1 (for PMID: 60.7.61)
ref++ InDom: 60.0 refcnt: 5 (for PMID: 60.0.30)
ref++ InDom: 60.8 refcnt: 2 (for PMID: 60.7.63)
ref++ InDom: 60.0 refcnt: 6 (for PMID: 60.0.31)
ref++ InDom: 60.14 refcnt: 1 (for PMID: 60.7.65)
ref++ InDom: 60.15 refcnt: 1 (for PMID: 60.7.67)
ref++ InDom: 60.1 refcnt: 6 (for PMID: 60.0.38)
ref++ InDom: 60.1 refcnt: 7 (for PMID: 60.0.39)
ref++ InDom: 60.0 refcnt: 7 (for PMID: 60.55.0)
ref++ InDom: 60.10 refcnt: 1 (for PMID: 60.10.0)
ref++ InDom: 60.1 refcnt: 8 (for PMID: 60.0.40)
ref++ InDom: 60.19 refcnt: 1 (for PMID: 60.55.1)
ref++ InDom: 60.10 refcnt: 2 (for PMID: 60.10.1)
ref++ InDom: 60.10 refcnt: 3 (for PMID: 60.10.3)
ref++ InDom: 60.10 refcnt: 4 (for PMID: 60.10.4)
ref++ InDom: 60.1 refcnt: 9 (for PMID: 60.0.46)
ref++ InDom: 60.1 refcnt: 10 (for PMID: 60.0.47)
ref++ InDom: 60.1 refcnt: 11 (for PMID: 60.0.49)
ref++ InDom: 60.1 refcnt: 12 (for PMID: 60.0.50)
ref++ InDom: 60.19 refcnt: 2 (for PMID: 60.36.32)
ref++ InDom: 60.0 refcnt: 8 (for PMID: 60.0.56)
ref++ InDom: 60.19 refcnt: 3 (for PMID: 60.36.33)
ref++ InDom: 60.0 refcnt: 9 (for PMID: 60.0.57)
ref++ InDom: 60.19 refcnt: 4 (for PMID: 60.36.34)
ref++ InDom: 60.0 refcnt: 10 (for PMID: 60.0.58)
ref++ InDom: 60.19 refcnt: 5 (for PMID: 60.36.35)
ref++ InDom: 60.19 refcnt: 6 (for PMID: 60.36.36)
ref++ InDom: 60.19 refcnt: 7 (for PMID: 60.36.37)
ref++ InDom: 60.0 refcnt: 11 (for PMID: 60.0.61)
ref++ InDom: 60.17 refcnt: 1 (for PMID: 60.33.0)
ref++ InDom: 60.0 refcnt: 12 (for PMID: 60.18.0)
ref++ InDom: 60.3 refcnt: 1 (for PMID: 60.3.0)
ref++ InDom: 60.1 refcnt: 13 (for PMID: 60.0.72)
ref++ InDom: 60.0 refcnt: 13 (for PMID: 60.18.1)
ref++ InDom: 60.3 refcnt: 2 (for PMID: 60.3.1)
ref++ InDom: 60.1 refcnt: 14 (for PMID: 60.0.73)
ref++ InDom: 60.0 refcnt: 14 (for PMID: 60.18.2)
ref++ InDom: 60.3 refcnt: 3 (for PMID: 60.3.2)
ref++ InDom: 60.0 refcnt: 15 (for PMID: 60.18.3)
ref++ InDom: 60.3 refcnt: 4 (for PMID: 60.3.3)
ref++ InDom: 60.0 refcnt: 16 (for PMID: 60.18.4)
ref++ InDom: 60.3 refcnt: 5 (for PMID: 60.3.4)
ref++ InDom: 60.0 refcnt: 17 (for PMID: 60.18.5)
ref++ InDom: 60.3 refcnt: 6 (for PMID: 60.3.5)
ref++ InDom: 60.0 refcnt: 18 (for PMID: 60.18.6)
ref++ InDom: 60.3 refcnt: 7 (for PMID: 60.3.6)
ref++ InDom: 60.3 refcnt: 8 (for PMID: 60.3.7)
ref++ InDom: 60.0 refcnt: 19 (for PMID: 60.18.8)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 60.3 refcnt: 9 (for PMID: 60.3.8)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.1)
ref++ InDom: 60.5 refcnt: 1 (for PMID: 60.5.1)
ref++ InDom: 60.0 refcnt: 20 (for PMID: 60.18.9)
ref++ InDom: 60.3 refcnt: 10 (for PMID: 60.3.9)
ref++ InDom: 60.0 refcnt: 21 (for PMID: 60.18.10)
ref++ InDom: 60.12 refcnt: 1 (for PMID: 60.20.2)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.2)
ref++ InDom: 60.3 refcnt: 11 (for PMID: 60.3.10)
ref++ InDom: 60.0 refcnt: 22 (for PMID: 60.18.11)
ref++ InDom: 2.1 refcnt: 4 (for PMID: 2.3.3)
ref++ InDom: 60.3 refcnt: 12 (for PMID: 60.3.11)
ref++ InDom: 60.3 refcnt: 13 (for PMID: 60.3.12)
ref++ InDom: 60.3 refcnt: 14 (for PMID: 60.3.13)
ref++ InDom: 60.3 refcnt: 15 (for PMID: 60.3.14)
ref++ InDom: 60.5 refcnt: 2 (for PMID: 60.5.7)
ref++ InDom: 60.3 refcnt: 16 (for PMID: 60.3.15)
ref++ InDom: 2.4 refcnt: 1 (for PMID: 2.5.0)
ref++ InDom: 60.5 refcnt: 3 (for PMID: 60.5.8)
ref++ InDom: 2.4 refcnt: 2 (for PMID: 2.5.1)
ref++ InDom: 60.5 refcnt: 4 (for PMID: 60.5.9)
ref++ InDom: 2.4 refcnt: 3 (for PMID: 2.5.2)
ref++ InDom: 2.4 refcnt: 4 (for PMID: 2.5.3)
ref++ InDom: 2.4 refcnt: 5 (for PMID: 2.5.4)
ref++ InDom: 60.7 refcnt: 1 (for PMID: 60.7.4)
ref++ InDom: 60.3 refcnt: 17 (for PMID: 60.3.20)
ref++ InDom: 2.4 refcnt: 6 (for PMID: 2.5.5)
ref++ InDom: 60.3 refcnt: 18 (for PMID: 60.3.21)
ref++ InDom: 2.4 refcnt: 7 (for PMID: 2.5.6)
ref++ InDom: 60.3 refcnt: 19 (for PMID: 60.3.22)
ref++ InDom: 2.4 refcnt: 8 (for PMID: 2.5.7)
ref++ InDom: 60.3 refcnt: 20 (for PMID: 60.3.23)
ref++ InDom: 2.4 refcnt: 9 (for PMID: 2.5.8)
ref++ InDom: 60.24 refcnt: 1 (for PMID: 60.54.0)
ref++ InDom: 60.3 refcnt: 21 (for PMID: 60.3.24)
ref++ InDom: 2.4 refcnt: 10 (for PMID: 2.5.9)
ref++ InDom: 60.24 refcnt: 2 (for PMID: 60.54.1)
ref++ InDom: 60.24 refcnt: 3 (for PMID: 60.54.3)
ref++ InDom: 60.24 refcnt: 4 (for PMID: 60.54.4)
ref++ InDom: 60.7 refcnt: 2 (for PMID: 60.7.12)
ref++ InDom: 60.24 refcnt: 5 (for PMID: 60.54.6)
ref++ InDom: 60.24 refcnt: 6 (for PMID: 60.54.7)
ref++ InDom: 60.24 refcnt: 7 (for PMID: 60.54.9)
ref++ InDom: 60.24 refcnt: 8 (for PMID: 60.54.10)
ref++ InDom: 60.24 refcnt: 9 (for PMID: 60.54.11)
ref++ InDom: 60.24 refcnt: 10 (for PMID: 60.54.13)
ref++ InDom: 60.24 refcnt: 11 (for PMID: 60.54.14)
ref++ InDom: 60.24 refcnt: 12 (for PMID: 60.54.15)
renumber indom ref-- InDom: 60.11 refcnt: 0 (for PMID: 60.15.0)
Rewrite: pmDesc for 60.18.0
Rewrite: pmDesc for 60.18.4
Rewrite: pmDesc for 60.15.0
Delete: InDom: 60.11: no output metrics use this
--- TMP.in
+++ TMP.out
@@ -775,11 +775,11 @@
     Data Type: 64-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: count
 PMID: 60.15.0 (hinv.map.scsi)
-    Data Type: string  InDom: 60.11 0xf00000b
+    Data Type: string  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: none
 PMID: 60.18.0 (hinv.cpu.clock)
     Data Type: float  InDom: 60.0 0xf000000
-    Semantics: discrete  Units: count
+    Semantics: discrete  Units: / microsec
 PMID: 60.18.1 (hinv.cpu.vendor)
     Data Type: string  InDom: 60.0 0xf000000
     Semantics: discrete  Units: none
@@ -791,7 +791,7 @@
     Semantics: discrete  Units: none
 PMID: 60.18.4 (hinv.cpu.cache)
     Data Type: 32-bit unsigned int  InDom: 60.0 0xf000000
-    Semantics: discrete  Units: none
+    Semantics: discrete  Units: Kbyte
 PMID: 60.18.5 (hinv.cpu.bogomips)
     Data Type: float  InDom: 60.0 0xf000000
     Semantics: discrete  Units: none
@@ -1147,9 +1147,6 @@
    0 or "sda1"
    1 or "sda2"
    2 or "mmcblk0p1"
-InDom: 60.11
-TIMESTAMP 1 instances
-   0 or "scsi0:0:0:0 Direct-Access"
 InDom: 60.12
 TIMESTAMP 120 instances
    0 or "nfs_direct_cache"

hinv.map.scsi
    Data Type: string  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: discrete  Units: none
    value "sda"

=== case 6, indom 60.7 should stay ===
ref++ InDom: 60.11 refcnt: 1 (for PMID: 60.15.0)
ref++ InDom: 60.0 refcnt: 1 (for PMID: 60.0.0)
ref++ InDom: 60.0 refcnt: 2 (for PMID: 60.0.1)
ref++ InDom: 60.0 refcnt: 3 (for PMID: 60.0.2)
ref++ InDom: 60.0 refcnt: 4 (for PMID: 60.0.3)
ref++ InDom: 60.1 refcnt: 1 (for PMID: 60.0.4)
ref++ InDom: 60.1 refcnt: 2 (for PMID: 60.0.5)
ref++ InDom: 60.1 refcnt: 3 (for PMID: 60.0.6)
ref++ InDom: 60.1 refcnt: 4 (for PMID: 60.0.7)
ref++ InDom: 60.2 refcnt: 1 (for PMID: 60.2.0)
ref++ InDom: 2.3 refcnt: 1 (for PMID: 2.4.1)
ref++ InDom: 60.1 refcnt: 5 (for PMID: 60.0.28)
ref++ InDom: 60.8 refcnt: 1 (for PMID: 60.7.61)
ref++ InDom: 60.0 refcnt: 5 (for PMID: 60.0.30)
ref++ InDom: 60.8 refcnt: 2 (for PMID: 60.7.63)
ref++ InDom: 60.0 refcnt: 6 (for PMID: 60.0.31)
ref++ InDom: 60.14 refcnt: 1 (for PMID: 60.7.65)
ref++ InDom: 60.15 refcnt: 1 (for PMID: 60.7.67)
ref++ InDom: 60.1 refcnt: 6 (for PMID: 60.0.38)
ref++ InDom: 60.1 refcnt: 7 (for PMID: 60.0.39)
ref++ InDom: 60.0 refcnt: 7 (for PMID: 60.55.0)
ref++ InDom: 60.10 refcnt: 1 (for PMID: 60.10.0)
ref++ InDom: 60.1 refcnt: 8 (for PMID: 60.0.40)
ref++ InDom: 60.19 refcnt: 1 (for PMID: 60.55.1)
ref++ InDom: 60.10 refcnt: 2 (for PMID: 60.10.1)
ref++ InDom: 60.10 refcnt: 3 (for PMID: 60.10.3)
ref++ InDom: 60.10 refcnt: 4 (for PMID: 60.10.4)
ref++ InDom: 60.1 refcnt: 9 (for PMID: 60.0.46)
ref++ InDom: 60.1 refcnt: 10 (for PMID: 60.0.47)
ref++ InDom: 60.1 refcnt: 11 (for PMID: 60.0.49)
ref++ InDom: 60.1 refcnt: 12 (for PMID: 60.0.50)
ref++ InDom: 60.19 refcnt: 2 (for PMID: 60.36.32)
ref++ InDom: 60.0 refcnt: 8 (for PMID: 60.0.56)
ref++ InDom: 60.19 refcnt: 3 (for PMID: 60.36.33)
ref++ InDom: 60.0 refcnt: 9 (for PMID: 60.0.57)
ref++ InDom: 60.19 refcnt: 4 (for PMID: 60.36.34)
ref++ InDom: 60.0 refcnt: 10 (for PMID: 60.0.58)
ref++ InDom: 60.19 refcnt: 5 (for PMID: 60.36.35)
ref++ InDom: 60.19 refcnt: 6 (for PMID: 60.36.36)
ref++ InDom: 60.19 refcnt: 7 (for PMID: 60.36.37)
ref++ InDom: 60.0 refcnt: 11 (for PMID: 60.0.61)
ref++ InDom: 60.17 refcnt: 1 (for PMID: 60.33.0)
ref++ InDom: 60.0 refcnt: 12 (for PMID: 60.18.0)
ref++ InDom: 60.3 refcnt: 1 (for PMID: 60.3.0)
ref++ InDom: 60.1 refcnt: 13 (for PMID: 60.0.72)
ref++ InDom: 60.0 refcnt: 13 (for PMID: 60.18.1)
ref++ InDom: 60.3 refcnt: 2 (for PMID: 60.3.1)
ref++ InDom: 60.1 refcnt: 14 (for PMID: 60.0.73)
ref++ InDom: 60.0 refcnt: 14 (for PMID: 60.18.2)
ref++ InDom: 60.3 refcnt: 3 (for PMID: 60.3.2)
ref++ InDom: 60.0 refcnt: 15 (for PMID: 60.18.3)
ref++ InDom: 60.3 refcnt: 4 (for PMID: 60.3.3)
ref++ InDom: 60.0 refcnt: 16 (for PMID: 60.18.4)
ref++ InDom: 60.3 refcnt: 5 (for PMID: 60.3.4)
ref++ InDom: 60.0 refcnt: 17 (for PMID: 60.18.5)
ref++ InDom: 60.3 refcnt: 6 (for PMID: 60.3.5)
ref++ InDom: 60.0 refcnt: 18 (for PMID: 60.18.6)
ref++ InDom: 60.3 refcnt: 7 (for PMID: 60.3.6)
ref++ InDom: 60.3 refcnt: 8 (for PMID: 60.3.7)
ref++ InDom: 60.0 refcnt: 19 (for PMID: 60.18.8)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 60.3 refcnt: 9 (for PMID: 60.3.8)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.1)
ref++ InDom: 60.5 refcnt: 1 (for PMID: 60.5.1)
ref++ InDom: 60.0 refcnt: 20 (for PMID: 60.18.9)
ref++ InDom: 60.3 refcnt: 10 (for PMID: 60.3.9)
ref++ InDom: 60.0 refcnt: 21 (for PMID: 60.18.10)
ref++ InDom: 60.12 refcnt: 1 (for PMID: 60.20.2)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.2)
ref++ InDom: 60.3 refcnt: 11 (for PMID: 60.3.10)
ref++ InDom: 60.0 refcnt: 22 (for PMID: 60.18.11)
ref++ InDom: 2.1 refcnt: 4 (for PMID: 2.3.3)
ref++ InDom: 60.3 refcnt: 12 (for PMID: 60.3.11)
ref++ InDom: 60.3 refcnt: 13 (for PMID: 60.3.12)
ref++ InDom: 60.3 refcnt: 14 (for PMID: 60.3.13)
ref++ InDom: 60.3 refcnt: 15 (for PMID: 60.3.14)
ref++ InDom: 60.5 refcnt: 2 (for PMID: 60.5.7)
ref++ InDom: 60.3 refcnt: 16 (for PMID: 60.3.15)
ref++ InDom: 2.4 refcnt: 1 (for PMID: 2.5.0)
ref++ InDom: 60.5 refcnt: 3 (for PMID: 60.5.8)
ref++ InDom: 2.4 refcnt: 2 (for PMID: 2.5.1)
ref++ InDom: 60.5 refcnt: 4 (for PMID: 60.5.9)
ref++ InDom: 2.4 refcnt: 3 (for PMID: 2.5.2)
ref++ InDom: 2.4 refcnt: 4 (for PMID: 2.5.3)
ref++ InDom: 2.4 refcnt: 5 (for PMID: 2.5.4)
ref++ InDom: 60.7 refcnt: 1 (for PMID: 60.7.4)
ref++ InDom: 60.3 refcnt: 17 (for PMID: 60.3.20)
ref++ InDom: 2.4 refcnt: 6 (for PMID: 2.5.5)
ref++ InDom: 60.3 refcnt: 18 (for PMID: 60.3.21)
ref++ InDom: 2.4 refcnt: 7 (for PMID: 2.5.6)
ref++ InDom: 60.3 refcnt: 19 (for PMID: 60.3.22)
ref++ InDom: 2.4 refcnt: 8 (for PMID: 2.5.7)
ref++ InDom: 60.3 refcnt: 20 (for PMID: 60.3.23)
ref++ InDom: 2.4 refcnt: 9 (for PMID: 2.5.8)
ref++ InDom: 60.24 refcnt: 1 (for PMID: 60.54.0)
ref++ InDom: 60.3 refcnt: 21 (for PMID: 60.3.24)
ref++ InDom: 2.4 refcnt: 10 (for PMID: 2.5.9)
ref++ InDom: 60.24 refcnt: 2 (for PMID: 60.54.1)
ref++ InDom: 60.24 refcnt: 3 (for PMID: 60.54.3)
ref++ InDom: 60.24 refcnt: 4 (for PMID: 60.54.4)
ref++ InDom: 60.7 refcnt: 2 (for PMID: 60.7.12)
ref++ InDom: 60.24 refcnt: 5 (for PMID: 60.54.6)
ref++ InDom: 60.24 refcnt: 6 (for PMID: 60.54.7)
ref++ InDom: 60.24 refcnt: 7 (for PMID: 60.54.9)
ref++ InDom: 60.24 refcnt: 8 (for PMID: 60.54.10)
ref++ InDom: 60.24 refcnt: 9 (for PMID: 60.54.11)
ref++ InDom: 60.24 refcnt: 10 (for PMID: 60.54.13)
ref++ InDom: 60.24 refcnt: 11 (for PMID: 60.54.14)
ref++ InDom: 60.24 refcnt: 12 (for PMID: 60.54.15)
renumber indom ref-- InDom: 60.7 refcnt: 1 (for PMID: 60.7.4)
Rewrite: pmDesc for 60.18.0
Rewrite: pmDesc for 60.7.4
Rewrite: pmDesc for 60.18.4
--- TMP.in
+++ TMP.out
@@ -520,7 +520,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: count
 PMID: 60.7.4 (nfs.client.reqs)
-    Data Type: 32-bit unsigned int  InDom: 60.7 0xf000007
+    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: counter  Units: count
 PMID: 60.7.12 (nfs.server.reqs)
     Data Type: 32-bit unsigned int  InDom: 60.7 0xf000007
@@ -779,7 +779,7 @@
     Semantics: discrete  Units: none
 PMID: 60.18.0 (hinv.cpu.clock)
     Data Type: float  InDom: 60.0 0xf000000
-    Semantics: discrete  Units: count
+    Semantics: discrete  Units: / microsec
 PMID: 60.18.1 (hinv.cpu.vendor)
     Data Type: string  InDom: 60.0 0xf000000
     Semantics: discrete  Units: none
@@ -791,7 +791,7 @@
     Semantics: discrete  Units: none
 PMID: 60.18.4 (hinv.cpu.cache)
     Data Type: 32-bit unsigned int  InDom: 60.0 0xf000000
-    Semantics: discrete  Units: none
+    Semantics: discrete  Units: Kbyte
 PMID: 60.18.5 (hinv.cpu.bogomips)
     Data Type: float  InDom: 60.0 0xf000000
     Semantics: discrete  Units: none

nfs.client.reqs
    Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
    Semantics: counter  Units: count
    value 0

nfs.server.reqs
    Data Type: 32-bit unsigned int  InDom: 60.7 0xf000007
    Semantics: counter  Units: count
    inst [0 or "null"] value 0
    inst [1 or "getattr"] value 0
    inst [2 or "setattr"] value 0
    inst [3 or "root"] value 0
    inst [4 or "lookup"] value 0
    inst [5 or "readlink"] value 0
    inst [6 or "read"] value 0
    inst [7 or "wrcache"] value 0
    inst [8 or "write"] value 0
    inst [9 or "create"] value 0
    inst [10 or "remove"] value 0
    inst [11 or "rename"] value 0
    inst [12 or "link"] value 0
    inst [13 or "symlink"] value 0
    inst [14 or "mkdir"] value 0
    inst [15 or "rmdir"] value 0
    inst [16 or "readdir"] value 0
    inst [17 or "statfs"] value 0

=== case 7, indom 1.19 should be deleted ===
ref++ InDom: 1.15 refcnt: 1 (for PMID: 1.38.6)
ref++ InDom: 1.16 refcnt: 1 (for PMID: 1.38.20)
ref++ InDom: 1.15 refcnt: 2 (for PMID: 1.38.7)
ref++ InDom: 1.16 refcnt: 2 (for PMID: 1.38.21)
ref++ InDom: 1.1 refcnt: 1 (for PMID: 1.26.4)
ref++ InDom: 1.15 refcnt: 3 (for PMID: 1.38.8)
ref++ InDom: 1.15 refcnt: 4 (for PMID: 1.38.9)
ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
ref++ InDom: 1.15 refcnt: 5 (for PMID: 1.38.10)
ref++ InDom: 1.16 refcnt: 3 (for PMID: 1.38.12)
ref++ InDom: 1.1 refcnt: 2 (for PMID: 1.26.9)
ref++ InDom: 1.2 refcnt: 1 (for PMID: 1.80.13)
ref++ InDom: 1.16 refcnt: 4 (for PMID: 1.38.13)
ref++ InDom: 1.2 refcnt: 2 (for PMID: 1.80.14)
ref++ InDom: 1.16 refcnt: 5 (for PMID: 1.38.14)
ref++ InDom: 1.15 refcnt: 6 (for PMID: 1.38.1)
ref++ InDom: 1.16 refcnt: 6 (for PMID: 1.38.15)
ref++ InDom: 1.15 refcnt: 7 (for PMID: 1.38.2)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 1.16 refcnt: 7 (for PMID: 1.38.16)
ref++ InDom: 1.1 refcnt: 3 (for PMID: 1.26.13)
ref++ InDom: 1.15 refcnt: 8 (for PMID: 1.38.3)
ref++ InDom: 1.16 refcnt: 8 (for PMID: 1.38.17)
ref++ InDom: 1.16 refcnt: 9 (for PMID: 1.38.18)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 1.15 refcnt: 9 (for PMID: 1.38.4)
ref++ InDom: 1.1 refcnt: 4 (for PMID: 1.26.1)
ref++ InDom: 1.16 refcnt: 10 (for PMID: 1.38.19)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 1.15 refcnt: 10 (for PMID: 1.38.5)
renumber indom ref-- InDom: 1.19 refcnt: 0 (for PMID: 1.42.2)
renumber indom ref++ InDom: 1.17 refcnt: 2 (for PMID: 1.42.2)
Rewrite: pmDesc for 1.42.2
Delete: InDom: 1.19: no output metrics use this
--- TMP.in
+++ TMP.out
@@ -121,7 +121,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: none
 PMID: 1.42.2 (hinv.map.xbow)
-    Data Type: string  InDom: 1.19 0x400013
+    Data Type: string  InDom: 1.17 0x400011
     Semantics: discrete  Units: none
 PMID: 1.80.13 (hinv.map.disk)
     Data Type: string  InDom: 1.2 0x400002
@@ -184,10 +184,6 @@
    66304 or "node:1.3"
    131328 or "node:2.1"
    131840 or "node:2.3"
-InDom: 1.19
-TIMESTAMP 2 instances
-   65792 or "xbow0"
-   131328 or "xbow1"
 InDom: 2.1
 TIMESTAMP 1 instances
    22276 or "22276"

hinv.map.node
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node"

hinv.map.xbow
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node/xtalk/0/mon"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node/xtalk/0/mon"

=== case 8, indom 1.1 should stay ===
ref++ InDom: 1.15 refcnt: 1 (for PMID: 1.38.6)
ref++ InDom: 1.16 refcnt: 1 (for PMID: 1.38.20)
ref++ InDom: 1.15 refcnt: 2 (for PMID: 1.38.7)
ref++ InDom: 1.16 refcnt: 2 (for PMID: 1.38.21)
ref++ InDom: 1.1 refcnt: 1 (for PMID: 1.26.4)
ref++ InDom: 1.15 refcnt: 3 (for PMID: 1.38.8)
ref++ InDom: 1.15 refcnt: 4 (for PMID: 1.38.9)
ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
ref++ InDom: 1.15 refcnt: 5 (for PMID: 1.38.10)
ref++ InDom: 1.16 refcnt: 3 (for PMID: 1.38.12)
ref++ InDom: 1.1 refcnt: 2 (for PMID: 1.26.9)
ref++ InDom: 1.2 refcnt: 1 (for PMID: 1.80.13)
ref++ InDom: 1.16 refcnt: 4 (for PMID: 1.38.13)
ref++ InDom: 1.2 refcnt: 2 (for PMID: 1.80.14)
ref++ InDom: 1.16 refcnt: 5 (for PMID: 1.38.14)
ref++ InDom: 1.15 refcnt: 6 (for PMID: 1.38.1)
ref++ InDom: 1.16 refcnt: 6 (for PMID: 1.38.15)
ref++ InDom: 1.15 refcnt: 7 (for PMID: 1.38.2)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 1.16 refcnt: 7 (for PMID: 1.38.16)
ref++ InDom: 1.1 refcnt: 3 (for PMID: 1.26.13)
ref++ InDom: 1.15 refcnt: 8 (for PMID: 1.38.3)
ref++ InDom: 1.16 refcnt: 8 (for PMID: 1.38.17)
ref++ InDom: 1.16 refcnt: 9 (for PMID: 1.38.18)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 1.15 refcnt: 9 (for PMID: 1.38.4)
ref++ InDom: 1.1 refcnt: 4 (for PMID: 1.26.1)
ref++ InDom: 1.16 refcnt: 10 (for PMID: 1.38.19)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 1.15 refcnt: 10 (for PMID: 1.38.5)
renumber indom ref-- InDom: 1.1 refcnt: 3 (for PMID: 1.26.9)
renumber indom ref++ InDom: 1.17 refcnt: 2 (for PMID: 1.26.9)
Rewrite: pmDesc for 1.26.9
--- TMP.in
+++ TMP.out
@@ -28,7 +28,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: none
 PMID: 1.26.9 (hinv.map.cpu)
-    Data Type: string  InDom: 1.1 0x400001
+    Data Type: string  InDom: 1.17 0x400011
     Semantics: discrete  Units: none
 PMID: 1.26.10 (hinv.mincpuclock)
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff

hinv.map.node
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node"

hinv.map.cpu
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node/cpu/a"
pmNameIndom: indom=1.17 inst=65793: Unknown or illegal instance identifier
    inst [65793] value "/hw/module/1/slot/n1/node/cpu/b"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node/cpu/a"
pmNameIndom: indom=1.17 inst=66305: Unknown or illegal instance identifier
    inst [66305] value "/hw/module/1/slot/n3/node/cpu/b"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node/cpu/a"
pmNameIndom: indom=1.17 inst=131329: Unknown or illegal instance identifier
    inst [131329] value "/hw/module/2/slot/n1/node/cpu/b"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node/cpu/a"
pmNameIndom: indom=1.17 inst=131841: Unknown or illegal instance identifier
    inst [131841] value "/hw/module/2/slot/n3/node/cpu/b"

hinv.cpuclock
    Data Type: 32-bit unsigned int  InDom: 1.1 0x400001
    Semantics: discrete  Units: count x 10^6 / sec
    inst [65792 or "cpu:1.1.a"] value 180
    inst [65793 or "cpu:1.1.b"] value 180
    inst [66304 or "cpu:1.3.a"] value 180
    inst [66305 or "cpu:1.3.b"] value 180
    inst [131328 or "cpu:2.1.a"] value 180
    inst [131329 or "cpu:2.1.b"] value 180
    inst [131840 or "cpu:2.3.a"] value 180
    inst [131841 or "cpu:2.3.b"] value 180

=== case 9, indom 1.19 should be deleted, indom 1.17 should become 1.42 ===
ref++ InDom: 1.15 refcnt: 1 (for PMID: 1.38.6)
ref++ InDom: 1.16 refcnt: 1 (for PMID: 1.38.20)
ref++ InDom: 1.15 refcnt: 2 (for PMID: 1.38.7)
ref++ InDom: 1.16 refcnt: 2 (for PMID: 1.38.21)
ref++ InDom: 1.1 refcnt: 1 (for PMID: 1.26.4)
ref++ InDom: 1.15 refcnt: 3 (for PMID: 1.38.8)
ref++ InDom: 1.15 refcnt: 4 (for PMID: 1.38.9)
ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
ref++ InDom: 1.15 refcnt: 5 (for PMID: 1.38.10)
ref++ InDom: 1.16 refcnt: 3 (for PMID: 1.38.12)
ref++ InDom: 1.1 refcnt: 2 (for PMID: 1.26.9)
ref++ InDom: 1.2 refcnt: 1 (for PMID: 1.80.13)
ref++ InDom: 1.16 refcnt: 4 (for PMID: 1.38.13)
ref++ InDom: 1.2 refcnt: 2 (for PMID: 1.80.14)
ref++ InDom: 1.16 refcnt: 5 (for PMID: 1.38.14)
ref++ InDom: 1.15 refcnt: 6 (for PMID: 1.38.1)
ref++ InDom: 1.16 refcnt: 6 (for PMID: 1.38.15)
ref++ InDom: 1.15 refcnt: 7 (for PMID: 1.38.2)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 1.16 refcnt: 7 (for PMID: 1.38.16)
ref++ InDom: 1.1 refcnt: 3 (for PMID: 1.26.13)
ref++ InDom: 1.15 refcnt: 8 (for PMID: 1.38.3)
ref++ InDom: 1.16 refcnt: 8 (for PMID: 1.38.17)
ref++ InDom: 1.16 refcnt: 9 (for PMID: 1.38.18)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 1.15 refcnt: 9 (for PMID: 1.38.4)
ref++ InDom: 1.1 refcnt: 4 (for PMID: 1.26.1)
ref++ InDom: 1.16 refcnt: 10 (for PMID: 1.38.19)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 1.15 refcnt: 10 (for PMID: 1.38.5)
renumber indom ref-- InDom: 1.17 refcnt: 0 (for PMID: 1.39.49)
renumber indom ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
renumber indom ref-- InDom: 1.19 refcnt: 0 (for PMID: 1.42.2)
renumber indom ref++ InDom: 1.17 refcnt: 2 (for PMID: 1.42.2)
Rewrite: pmDesc for 1.42.2
Delete: InDom: 1.19: no output metrics use this
Rewrite: pmDesc for 1.39.49
--- TMP.in
+++ TMP.out
@@ -115,13 +115,13 @@
     Data Type: 32-bit unsigned int  InDom: 1.16 0x400010
     Semantics: instant  Units: none
 PMID: 1.39.49 (hinv.map.node)
-    Data Type: string  InDom: 1.17 0x400011
+    Data Type: string  InDom: 1.42 0x40002a
     Semantics: discrete  Units: none
 PMID: 1.42.1 (hinv.nxbow)
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: none
 PMID: 1.42.2 (hinv.map.xbow)
-    Data Type: string  InDom: 1.19 0x400013
+    Data Type: string  InDom: 1.42 0x40002a
     Semantics: discrete  Units: none
 PMID: 1.80.13 (hinv.map.disk)
     Data Type: string  InDom: 1.2 0x400002
@@ -178,16 +178,12 @@
    131586 or "rport:2.2.2"
    131589 or "rport:2.2.5"
    131590 or "rport:2.2.6"
-InDom: 1.17
+InDom: 1.42
 TIMESTAMP 4 instances
    65792 or "node:1.1"
    66304 or "node:1.3"
    131328 or "node:2.1"
    131840 or "node:2.3"
-InDom: 1.19
-TIMESTAMP 2 instances
-   65792 or "xbow0"
-   131328 or "xbow1"
 InDom: 2.1
 TIMESTAMP 1 instances
    22276 or "22276"

hinv.map.node
    Data Type: string  InDom: 1.42 0x40002a
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node"

hinv.map.xbow
    Data Type: string  InDom: 1.42 0x40002a
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node/xtalk/0/mon"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node/xtalk/0/mon"

=== case 10, indom 1.1 should stay ===
ref++ InDom: 1.15 refcnt: 1 (for PMID: 1.38.6)
ref++ InDom: 1.16 refcnt: 1 (for PMID: 1.38.20)
ref++ InDom: 1.15 refcnt: 2 (for PMID: 1.38.7)
ref++ InDom: 1.16 refcnt: 2 (for PMID: 1.38.21)
ref++ InDom: 1.1 refcnt: 1 (for PMID: 1.26.4)
ref++ InDom: 1.15 refcnt: 3 (for PMID: 1.38.8)
ref++ InDom: 1.15 refcnt: 4 (for PMID: 1.38.9)
ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
ref++ InDom: 1.15 refcnt: 5 (for PMID: 1.38.10)
ref++ InDom: 1.16 refcnt: 3 (for PMID: 1.38.12)
ref++ InDom: 1.1 refcnt: 2 (for PMID: 1.26.9)
ref++ InDom: 1.2 refcnt: 1 (for PMID: 1.80.13)
ref++ InDom: 1.16 refcnt: 4 (for PMID: 1.38.13)
ref++ InDom: 1.2 refcnt: 2 (for PMID: 1.80.14)
ref++ InDom: 1.16 refcnt: 5 (for PMID: 1.38.14)
ref++ InDom: 1.15 refcnt: 6 (for PMID: 1.38.1)
ref++ InDom: 1.16 refcnt: 6 (for PMID: 1.38.15)
ref++ InDom: 1.15 refcnt: 7 (for PMID: 1.38.2)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 1.16 refcnt: 7 (for PMID: 1.38.16)
ref++ InDom: 1.1 refcnt: 3 (for PMID: 1.26.13)
ref++ InDom: 1.15 refcnt: 8 (for PMID: 1.38.3)
ref++ InDom: 1.16 refcnt: 8 (for PMID: 1.38.17)
ref++ InDom: 1.16 refcnt: 9 (for PMID: 1.38.18)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 1.15 refcnt: 9 (for PMID: 1.38.4)
ref++ InDom: 1.1 refcnt: 4 (for PMID: 1.26.1)
ref++ InDom: 1.16 refcnt: 10 (for PMID: 1.38.19)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 1.15 refcnt: 10 (for PMID: 1.38.5)
renumber indom ref-- InDom: 1.19 refcnt: 0 (for PMID: 1.42.2)
renumber indom ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
renumber indom ref-- InDom: 1.1 refcnt: 3 (for PMID: 1.26.9)
renumber indom ref++ InDom: 1.19 refcnt: 2 (for PMID: 1.26.9)
Rewrite: pmDesc for 1.42.2
Rewrite: pmDesc for 1.26.9
--- TMP.in
+++ TMP.out
@@ -28,7 +28,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: none
 PMID: 1.26.9 (hinv.map.cpu)
-    Data Type: string  InDom: 1.1 0x400001
+    Data Type: string  InDom: 1.42 0x40002a
     Semantics: discrete  Units: none
 PMID: 1.26.10 (hinv.mincpuclock)
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
@@ -121,7 +121,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: none
 PMID: 1.42.2 (hinv.map.xbow)
-    Data Type: string  InDom: 1.19 0x400013
+    Data Type: string  InDom: 1.42 0x40002a
     Semantics: discrete  Units: none
 PMID: 1.80.13 (hinv.map.disk)
     Data Type: string  InDom: 1.2 0x400002
@@ -184,7 +184,7 @@
    66304 or "node:1.3"
    131328 or "node:2.1"
    131840 or "node:2.3"
-InDom: 1.19
+InDom: 1.42
 TIMESTAMP 2 instances
    65792 or "xbow0"
    131328 or "xbow1"

hinv.map.node
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node"

hinv.map.cpu
    Data Type: string  InDom: 1.42 0x40002a
    Semantics: discrete  Units: none
    inst [65792 or "xbow0"] value "/hw/module/1/slot/n1/node/cpu/a"
pmNameIndom: indom=1.42 inst=65793: Unknown or illegal instance identifier
    inst [65793] value "/hw/module/1/slot/n1/node/cpu/b"
pmNameIndom: indom=1.42 inst=66304: Unknown or illegal instance identifier
    inst [66304] value "/hw/module/1/slot/n3/node/cpu/a"
pmNameIndom: indom=1.42 inst=66305: Unknown or illegal instance identifier
    inst [66305] value "/hw/module/1/slot/n3/node/cpu/b"
    inst [131328 or "xbow1"] value "/hw/module/2/slot/n1/node/cpu/a"
pmNameIndom: indom=1.42 inst=131329: Unknown or illegal instance identifier
    inst [131329] value "/hw/module/2/slot/n1/node/cpu/b"
pmNameIndom: indom=1.42 inst=131840: Unknown or illegal instance identifier
    inst [131840] value "/hw/module/2/slot/n3/node/cpu/a"
pmNameIndom: indom=1.42 inst=131841: Unknown or illegal instance identifier
    inst [131841] value "/hw/module/2/slot/n3/node/cpu/b"

hinv.cpuclock
    Data Type: 32-bit unsigned int  InDom: 1.1 0x400001
    Semantics: discrete  Units: count x 10^6 / sec
    inst [65792 or "cpu:1.1.a"] value 180
    inst [65793 or "cpu:1.1.b"] value 180
    inst [66304 or "cpu:1.3.a"] value 180
    inst [66305 or "cpu:1.3.b"] value 180
    inst [131328 or "cpu:2.1.a"] value 180
    inst [131329 or "cpu:2.1.b"] value 180
    inst [131840 or "cpu:2.3.a"] value 180
    inst [131841 or "cpu:2.3.b"] value 180

=== case 11, indom 1.17 should stay ===
ref++ InDom: 1.15 refcnt: 1 (for PMID: 1.38.6)
ref++ InDom: 1.16 refcnt: 1 (for PMID: 1.38.20)
ref++ InDom: 1.15 refcnt: 2 (for PMID: 1.38.7)
ref++ InDom: 1.16 refcnt: 2 (for PMID: 1.38.21)
ref++ InDom: 1.1 refcnt: 1 (for PMID: 1.26.4)
ref++ InDom: 1.15 refcnt: 3 (for PMID: 1.38.8)
ref++ InDom: 1.15 refcnt: 4 (for PMID: 1.38.9)
ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
ref++ InDom: 1.15 refcnt: 5 (for PMID: 1.38.10)
ref++ InDom: 1.16 refcnt: 3 (for PMID: 1.38.12)
ref++ InDom: 1.1 refcnt: 2 (for PMID: 1.26.9)
ref++ InDom: 1.2 refcnt: 1 (for PMID: 1.80.13)
ref++ InDom: 1.16 refcnt: 4 (for PMID: 1.38.13)
ref++ InDom: 1.2 refcnt: 2 (for PMID: 1.80.14)
ref++ InDom: 1.16 refcnt: 5 (for PMID: 1.38.14)
ref++ InDom: 1.15 refcnt: 6 (for PMID: 1.38.1)
ref++ InDom: 1.16 refcnt: 6 (for PMID: 1.38.15)
ref++ InDom: 1.15 refcnt: 7 (for PMID: 1.38.2)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 1.16 refcnt: 7 (for PMID: 1.38.16)
ref++ InDom: 1.1 refcnt: 3 (for PMID: 1.26.13)
ref++ InDom: 1.15 refcnt: 8 (for PMID: 1.38.3)
ref++ InDom: 1.16 refcnt: 8 (for PMID: 1.38.17)
ref++ InDom: 1.16 refcnt: 9 (for PMID: 1.38.18)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 1.15 refcnt: 9 (for PMID: 1.38.4)
ref++ InDom: 1.1 refcnt: 4 (for PMID: 1.26.1)
ref++ InDom: 1.16 refcnt: 10 (for PMID: 1.38.19)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 1.15 refcnt: 10 (for PMID: 1.38.5)
renumber indom ref++ InDom: 1.17 refcnt: 2 (for PMID: 1.26.12)
Rewrite: pmDesc for 1.26.12
--- TMP.in
+++ TMP.out
@@ -37,7 +37,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: count x 10^6 / sec
 PMID: 1.26.12 (hinv.machine)
-    Data Type: string  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: string  InDom: 1.17 0x400011
     Semantics: discrete  Units: none
 PMID: 1.26.13 (hinv.cputype)
     Data Type: string  InDom: 1.1 0x400001

hinv.map.node
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node"

hinv.machine
    Data Type: string  InDom: 1.17 0x400011
    Semantics: discrete  Units: none
    inst [131840 or "node:2.3"] value "IP27"

=== case 12, indom 1.17 should become 1.42 ===
ref++ InDom: 1.15 refcnt: 1 (for PMID: 1.38.6)
ref++ InDom: 1.16 refcnt: 1 (for PMID: 1.38.20)
ref++ InDom: 1.15 refcnt: 2 (for PMID: 1.38.7)
ref++ InDom: 1.16 refcnt: 2 (for PMID: 1.38.21)
ref++ InDom: 1.1 refcnt: 1 (for PMID: 1.26.4)
ref++ InDom: 1.15 refcnt: 3 (for PMID: 1.38.8)
ref++ InDom: 1.15 refcnt: 4 (for PMID: 1.38.9)
ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
ref++ InDom: 1.19 refcnt: 1 (for PMID: 1.42.2)
ref++ InDom: 1.15 refcnt: 5 (for PMID: 1.38.10)
ref++ InDom: 1.16 refcnt: 3 (for PMID: 1.38.12)
ref++ InDom: 1.1 refcnt: 2 (for PMID: 1.26.9)
ref++ InDom: 1.2 refcnt: 1 (for PMID: 1.80.13)
ref++ InDom: 1.16 refcnt: 4 (for PMID: 1.38.13)
ref++ InDom: 1.2 refcnt: 2 (for PMID: 1.80.14)
ref++ InDom: 1.16 refcnt: 5 (for PMID: 1.38.14)
ref++ InDom: 1.15 refcnt: 6 (for PMID: 1.38.1)
ref++ InDom: 1.16 refcnt: 6 (for PMID: 1.38.15)
ref++ InDom: 1.15 refcnt: 7 (for PMID: 1.38.2)
ref++ InDom: 2.1 refcnt: 1 (for PMID: 2.3.0)
ref++ InDom: 1.16 refcnt: 7 (for PMID: 1.38.16)
ref++ InDom: 1.1 refcnt: 3 (for PMID: 1.26.13)
ref++ InDom: 1.15 refcnt: 8 (for PMID: 1.38.3)
ref++ InDom: 1.16 refcnt: 8 (for PMID: 1.38.17)
ref++ InDom: 1.16 refcnt: 9 (for PMID: 1.38.18)
ref++ InDom: 2.1 refcnt: 2 (for PMID: 2.3.2)
ref++ InDom: 1.15 refcnt: 9 (for PMID: 1.38.4)
ref++ InDom: 1.1 refcnt: 4 (for PMID: 1.26.1)
ref++ InDom: 1.16 refcnt: 10 (for PMID: 1.38.19)
ref++ InDom: 2.1 refcnt: 3 (for PMID: 2.3.3)
ref++ InDom: 1.15 refcnt: 10 (for PMID: 1.38.5)
renumber indom ref-- InDom: 1.17 refcnt: 0 (for PMID: 1.39.49)
renumber indom ref++ InDom: 1.17 refcnt: 1 (for PMID: 1.39.49)
renumber indom ref++ InDom: 1.17 refcnt: 2 (for PMID: 1.26.12)
Rewrite: pmDesc for 1.39.49
Rewrite: pmDesc for 1.26.12
--- TMP.in
+++ TMP.out
@@ -37,7 +37,7 @@
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
     Semantics: discrete  Units: count x 10^6 / sec
 PMID: 1.26.12 (hinv.machine)
-    Data Type: string  InDom: PM_INDOM_NULL 0xffffffff
+    Data Type: string  InDom: 1.42 0x40002a
     Semantics: discrete  Units: none
 PMID: 1.26.13 (hinv.cputype)
     Data Type: string  InDom: 1.1 0x400001
@@ -115,7 +115,7 @@
     Data Type: 32-bit unsigned int  InDom: 1.16 0x400010
     Semantics: instant  Units: none
 PMID: 1.39.49 (hinv.map.node)
-    Data Type: string  InDom: 1.17 0x400011
+    Data Type: string  InDom: 1.42 0x40002a
     Semantics: discrete  Units: none
 PMID: 1.42.1 (hinv.nxbow)
     Data Type: 32-bit unsigned int  InDom: PM_INDOM_NULL 0xffffffff
@@ -178,16 +178,16 @@
    131586 or "rport:2.2.2"
    131589 or "rport:2.2.5"
    131590 or "rport:2.2.6"
-InDom: 1.17
+InDom: 1.19
+TIMESTAMP 2 instances
+   65792 or "xbow0"
+   131328 or "xbow1"
+InDom: 1.42
 TIMESTAMP 4 instances
    65792 or "node:1.1"
    66304 or "node:1.3"
    131328 or "node:2.1"
    131840 or "node:2.3"
-InDom: 1.19
-TIMESTAMP 2 instances
-   65792 or "xbow0"
-   131328 or "xbow1"
 InDom: 2.1
 TIMESTAMP 1 instances
    22276 or "22276"

hinv.map.node
    Data Type: string  InDom: 1.42 0x40002a
    Semantics: discrete  Units: none
    inst [65792 or "node:1.1"] value "/hw/module/1/slot/n1/node"
    inst [66304 or "node:1.3"] value "/hw/module/1/slot/n3/node"
    inst [131328 or "node:2.1"] value "/hw/module/2/slot/n1/node"
    inst [131840 or "node:2.3"] value "/hw/module/2/slot/n3/node"

hinv.machine
    Data Type: string  InDom: 1.42 0x40002a
    Semantics: discrete  Units: none
    inst [131840 or "node:2.3"] value "IP27"
