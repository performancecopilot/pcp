'\"macro stdmacro
.\"
.\" Copyright (c) 2017 Red Hat.
.\"
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\"
.TH PMDAREDIS 1 "PCP" "Performance Co-Pilot"
.SH NAME
\f3pmdaredis\f1 \- Redis performance metrics domain agent (PMDA)
.SH DESCRIPTION
This \s-1PMDA\s0 extracts performance data from sending the INFO command
to a Redis (redis.io) server, which includes:
.IP \[bu] 2
General information about the Redis server
.IP \[bu]
Client connections
.IP \[bu]
Memory consumption
.IP \[bu]
Persistence statistics
.IP \[bu]
Replication statistics
.IP \[bu]
CPU consumption statistics
.IP \[bu]
Redis command statistics
.IP \[bu]
Redis Cluster statistics
.IP \[bu]
Database related statistics
.PP
The hostname (localhost), port (6379 by default) and other configuration
information must be specified in the
\&\f(CR$PCP_PMDAS_DIR\fR/redis/redis.conf file.
.sp 1
.RS +4
.ft B
.nf
# cd $PCP_PMDAS_DIR/redis
# [ edit redis.conf ]
\  host=localhost.localdomain:6379
.fi
.ft P
.RE
.sp 1
To uninstall, the following must be done as root:
.sp 1
.RS +4
.ft B
.nf
# cd $PCP_PMDAS_DIR/redis
# ./Remove
.fi
.ft P
.RE
.sp 1
Once this is setup, you can access the names and values for the
redis performance metrics by doing the following as root:
.sp 1
.RS +4
.ft B
.nf
# cd $PCP_PMDAS_DIR/redis
# ./Install
.fi
.ft P
.RE
.sp 1
To uninstall, the following must be done as root:
.sp 1
.RS +4
.ft B
.nf
# cd $PCP_PMDAS_DIR/redis
# ./Remove
.fi
.ft P
.RE
.sp 1
\fBpmdaredis\fR is launched by \fIpmcd\fR(1) and should never be executed
directly. The Install and Remove scripts notify \fIpmcd\fR(1) when the
agent is installed or removed.
.SH FILES
.IP "\fB$PCP_PMDAS_DIR/redis/redis.conf\fR" 4
mandatory configuration file listing monitored redis instances
.IP "\fB$PCP_PMDAS_DIR/redis/Install\fR" 4
installation script for the \fBpmdaredis\fR agent
.IP "\fB$PCP_PMDAS_DIR/redis/Remove\fR" 4
undo installation script for the \fBpmdaredis\fR agent
.IP "\fB$PCP_LOG_DIR/pmcd/redis.log\fR" 4
default log file for error messages from \fBpmdaredis\fR
.SH PCP ENVIRONMENT
Environment variables with the prefix \fBPCP_\fR are used to parameterize
the file and directory names used by \fBPCP\fR. On each installation, the
file \fB/etc/pcp.conf\fR contains the local values for these variables.
The \fB$PCP_CONF\fR variable may be used to specify an alternative
configuration file, as described in \fIpcp.conf\fR(5).
.SH SEE ALSO
.BR PCPIntro (1)
and
.BR pmcd (1).
