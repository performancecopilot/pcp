'\"macro stdmacro
.\"
.\" Copyright (c) 2016,2019 Red Hat.
.\"
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\"
.\"
.TH PCP-NUMASTAT 1 "PCP" "Performance Co-Pilot"
.SH NAME
\f3pcp-numastat\f1 \- report on NUMA memory allocation
.SH SYNOPSIS
\f3pcp\f1 [\f2pcp\ options\f1] \f3numastat\f1
[\f3\-Vw?\f1]
.SH DESCRIPTION
.B pcp-numastat
displays NUMA allocation statistics from the kernel memory
allocator.
Each process has NUMA policies that specify on which node
pages are allocated.
The performance counters in the kernel track on which
nodes memory is allocated and these values are sampled and
reported by
.BR pcp-numastat .
.PP
Counters are maintained individually for each NUMA node.
Details of the semantics of each reported metric can be
retrieved using the following command:
.P
.ft CR
.nf
.in +0.5i
# pminfo \(hydt mem.numa.alloc
.in
.fi
.SH OPTIONS
When invoked via the
.BR pcp (1)
command, the
.BR \-h /\c
.BR \-\-host ,
.BR \-a /\c
.BR \-\-archive ,
.BR \-O /\c
.BR \-\-origin ,
.BR \-Z /\c
.BR \-\-timezone
and several other
.I pcp options
become indirectly available; refer to
.BR PCPIntro (1)
for a complete description of these options.
.PP
The additional command line options available for
.B pcp-numastat
are:
.TP 5
\fB\-V\fR, \fB\-\-version\fR
Display the current version of the command.
.TP
\fB\-w\fR \fIwidth\fR, \fB\-\-width\fR=\fIwidth\fR
Limit display to
.IR width .
.TP
\fB\-?\fR, \fB\-\-help\fR
Display usage message and exit.
.SH NOTES
.B pcp-numastat
is inspired by the
.BR numastat (1)
command and produces exactly the same output.
.SH PCP ENVIRONMENT
Environment variables with the prefix \fBPCP_\fP are used to parameterize
the file and directory names used by PCP.
On each installation, the
file \fI/etc/pcp.conf\fP contains the local values for these variables.
The \fB$PCP_CONF\fP variable may be used to specify an alternative
configuration file, as described in \fBpcp.conf\fP(5).
.PP
For environment variables affecting PCP tools, see \fBpmGetOptions\fP(3).
.SH SEE ALSO
.BR PCPIntro (1),
.BR pcp (1)
and
.BR numastat (1).

.\" control lines for scripts/man-spell
.\" +ok+ numastat {from pcp-numastat} NUMA
