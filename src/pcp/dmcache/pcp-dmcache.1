'\"macro stdmacro
.\"
.\" Copyright (c) 2017-2019 Red Hat.
.\"
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\"
.\"
.TH PCP-DMCACHE 1 "PCP" "Performance Co-Pilot"
.SH NAME
\f3pcp-dmcache\f1,
\f3pcp-lvmcache\f1 \- report on logical storage device caches
.SH SYNOPSIS
\f3pcp\f1 [\f2pcp\ options\f1] \f3dmcache\f1
[\f3\-iRV?\f1] [\f2device\f1 ...]
.SH DESCRIPTION
.B pcp-dmcache
reports on the activity of any configured Device Mapper Cache targets.
The reported information includes device IOPs, cache and metadata device
utilization, as well as hit and miss rates and ratios for both reads and
writes for each cache device.
.PP
.B pcp-lvmcache
(Logical Volume Manager cache) is an exact synonym for
.B pcp-dmcache
(Device Mapper cache).
.PP
By default,
.B pcp-dmcache
reports on all available cache target devices (one line each, per sample),
but this can be restricted to specific devices on the command line.
.SH OPTIONS
When invoked via the
.BR pcp (1)
command, the
.BR \-h /\c
.BR \-\-host ,
.BR \-a /\c
.BR \-\-archive ,
.BR \-O /\c
.BR \-\-origin ,
.BR \-s /\c
.BR \-\-samples ,
.BR \-t /\c
.BR \-\-interval ,
.BR \-Z /\c
.BR \-\-timezone
and several other
.I pcp options
become indirectly available; refer to
.BR PCPIntro (1)
for a complete description of these options.
.PP
The additional command line options available for
.B pcp-dmcache
are:
.TP
\fB\-i\fR, \fB\-\-iops\fR
displays total read and write operations instead of the default cache hit ratio.
.TP
\fB\-R\fR, \fB\-\-repeat\fR
changes the frequency at which the column heading is displayed.
By default, a header is displayed after every tenth sample.
.TP
\fB\-V\fR, \fB\-\-version\fR
Display version number and exit.
.TP
\fB\-?\fR, \fB\-\-help\fR
Display usage message and exit.
.SH PCP ENVIRONMENT
Environment variables with the prefix \fBPCP_\fP are used to parameterize
the file and directory names used by PCP.
On each installation, the
file \fI/etc/pcp.conf\fP contains the local values for these variables.
The \fB$PCP_CONF\fP variable may be used to specify an alternative
configuration file, as described in \fBpcp.conf\fP(5).
.PP
For environment variables affecting PCP tools, see \fBpmGetOptions\fP(3).
.SH SEE ALSO
.BR PCPIntro (1),
.BR pcp (1),
.BR pmdadm (1),
.BR dmsetup (1)
and
.BR lvmcache (7).

.\" control lines for scripts/man-spell
.\" +ok+ lvmcache {from pcp-lvmcache} dmcache {from pcp-dmcache} dmsetup IOPs
